const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-DyszVBJf.js","assets/vendor-CGJkDKdD.js","assets/BlogList-CZPdiFy_.js","assets/Card-DYB_fwiI.js","assets/trash-2-D7kLa5Zx.js","assets/MediaLibrary-DwTetQ-S.js","assets/Home-D0AyKQzm.js","assets/proxy-DKV5Fp1w.js","assets/tournaments-K44o8kS3.js","assets/About-DNNoYUhw.js","assets/PageHeader-SgwzCk5E.js","assets/Tournaments-BMLy1II-.js","assets/TournamentGrid-C0jUvmjq.js","assets/PastEvents-Dsf9jj2N.js","assets/Blog-BYF5PEQC.js","assets/NotFound-8R9v1cji.js"])))=>i.map(i=>d[i]);
var Ji=Object.defineProperty;var Gi=(r,e,t)=>e in r?Ji(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Fe=(r,e,t)=>Gi(r,typeof e!="symbol"?e+"":e,t);import{r as p,a as Es,R as br,g as Ki,c as ve}from"./vendor-CGJkDKdD.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Ss={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=p,Xi=Symbol.for("react.element"),Qi=Symbol.for("react.fragment"),Zi=Object.prototype.hasOwnProperty,ea=Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ta={key:!0,ref:!0,__self:!0,__source:!0};function Rs(r,e,t){var n,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Zi.call(e,n)&&!ta.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Xi,type:r,key:i,ref:a,props:s,_owner:ea.current}}wr.Fragment=Qi;wr.jsx=Rs;wr.jsxs=Rs;Ss.exports=wr;var y=Ss.exports,Cs,In=Es;Cs=In.createRoot,In.hydrateRoot;var Ts=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(Ts||{}),Dr={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(Ts);var an={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(an).reduce((r,[e,t])=>(r[t]=e,r),{});var zt="data-rh",ra=r=>Array.isArray(r)?r.join(""):r,na=(r,e)=>{const t=Object.keys(r);for(let n=0;n<t.length;n+=1)if(e[t[n]]&&e[t[n]].includes(r[t[n]]))return!0;return!1},Ir=(r,e)=>Array.isArray(r)?r.reduce((t,n)=>(na(n,e)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:r,priority:[]},sa=["noscript","script","style"],Jr=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ps=r=>Object.keys(r).reduce((e,t)=>{const n=typeof r[t]<"u"?`${t}="${r[t]}"`:`${t}`;return e?`${e} ${n}`:n},""),ia=(r,e,t,n)=>{const s=Ps(t),i=ra(e);return s?`<${r} ${zt}="true" ${s}>${Jr(i,n)}</${r}>`:`<${r} ${zt}="true">${Jr(i,n)}</${r}>`},aa=(r,e,t=!0)=>e.reduce((n,s)=>{const i=s,a=Object.keys(i).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const d=typeof i[u]>"u"?u:`${u}="${Jr(i[u],t)}"`;return c?`${c} ${d}`:d},""),o=i.innerHTML||i.cssText||"",l=sa.indexOf(r)===-1;return`${n}<${r} ${zt}="true" ${a}${l?"/>":`>${o}</${r}>`}`},""),js=(r,e={})=>Object.keys(r).reduce((t,n)=>{const s=an[n];return t[s||n]=r[n],t},e),oa=(r,e,t)=>{const n={key:e,[zt]:!0},s=js(t,n);return[br.createElement("title",s,e)]},ur=(r,e)=>e.map((t,n)=>{const s={key:n,[zt]:!0};return Object.keys(t).forEach(i=>{const o=an[i]||i;if(o==="innerHTML"||o==="cssText"){const l=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[o]=t[i]}),br.createElement(r,s)}),me=(r,e,t=!0)=>{switch(r){case"title":return{toComponent:()=>oa(r,e.title,e.titleAttributes),toString:()=>ia(r,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>js(e),toString:()=>Ps(e)};default:return{toComponent:()=>ur(r,e),toString:()=>aa(r,e,t)}}},la=({metaTags:r,linkTags:e,scriptTags:t,encode:n})=>{const s=Ir(r,Dr.meta),i=Ir(e,Dr.link),a=Ir(t,Dr.script);return{priorityMethods:{toComponent:()=>[...ur("meta",s.priority),...ur("link",i.priority),...ur("script",a.priority)],toString:()=>`${me("meta",s.priority,n)} ${me("link",i.priority,n)} ${me("script",a.priority,n)}`},metaTags:s.default,linkTags:i.default,scriptTags:a.default}},ca=r=>{const{baseTag:e,bodyAttributes:t,encode:n=!0,htmlAttributes:s,noscriptTags:i,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:c}=r;let{linkTags:u,metaTags:d,scriptTags:f}=r,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:u,metaTags:d,scriptTags:f}=la(r)),{priority:m,base:me("base",e,n),bodyAttributes:me("bodyAttributes",t,n),htmlAttributes:me("htmlAttributes",s,n),link:me("link",u,n),meta:me("meta",d,n),noscript:me("noscript",i,n),script:me("script",f,n),style:me("style",a,n),title:me("title",{title:o,titleAttributes:l},n)}},ua=ca,rr=[],$s=!!(typeof window<"u"&&window.document&&window.document.createElement),da=class{constructor(r,e){Fe(this,"instances",[]);Fe(this,"canUseDOM",$s);Fe(this,"context");Fe(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?rr:this.instances,add:r=>{(this.canUseDOM?rr:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?rr:this.instances).indexOf(r);(this.canUseDOM?rr:this.instances).splice(e,1)}}});this.context=r,this.canUseDOM=e||!1,e||(r.helmet=ua({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ha={},fa=br.createContext(ha),ot,Os=(ot=class extends p.Component{constructor(t){super(t);Fe(this,"helmetData");this.helmetData=new da(this.props.context||{},ot.canUseDOM)}render(){return br.createElement(fa.Provider,{value:this.helmetData.value},this.props.children)}},Fe(ot,"canUseDOM",$s),ot);const pa=p.createContext(null),ma=p.createContext({}),ga=p.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),va=typeof window<"u",ya=va?p.useLayoutEffect:p.useEffect;function As(r){const e=p.useRef(null);return e.current===null&&(e.current=r()),e.current}class ba extends p.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wa({children:r,isPresent:e}){const t=p.useId(),n=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(ga);return p.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),y.jsx(ba,{isPresent:e,childRef:n,sizeRef:s,children:p.cloneElement(r,{ref:n})})}const _a=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=As(xa),l=p.useId(),c=p.useCallback(d=>{o.set(d,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),u=p.useMemo(()=>({id:l,initial:e,isPresent:t,custom:s,onExitComplete:c,register:d=>(o.set(d,!1),()=>o.delete(d))}),i?[Math.random(),c]:[t,c]);return p.useMemo(()=>{o.forEach((d,f)=>o.set(f,!1))},[t]),p.useEffect(()=>{!t&&!o.size&&n&&n()},[t]),a==="popLayout"&&(r=y.jsx(wa,{isPresent:t,children:r})),y.jsx(pa.Provider,{value:u,children:r})};function xa(){return new Map}const nr=r=>r.key||"";function Mn(r){const e=[];return p.Children.forEach(r,t=>{p.isValidElement(t)&&e.push(t)}),e}const ka=({children:r,exitBeforeEnter:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=p.useMemo(()=>Mn(r),[r]),l=o.map(nr),c=p.useRef(!0),u=p.useRef(o),d=As(()=>new Map),[f,m]=p.useState(o),[k,x]=p.useState(o);ya(()=>{c.current=!1,u.current=o;for(let R=0;R<k.length;R++){const S=nr(k[R]);l.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[k,l.length,l.join("-")]);const w=[];if(o!==f){let R=[...o];for(let S=0;S<k.length;S++){const $=k[S],v=nr($);l.includes(v)||(R.splice(S,0,$),w.push($))}a==="wait"&&w.length&&(R=w),x(Mn(R)),m(o);return}const{forceRender:_}=p.useContext(ma);return y.jsx(y.Fragment,{children:k.map(R=>{const S=nr(R),$=o===k||l.includes(S),v=()=>{if(d.has(S))d.set(S,!0);else return;let L=!0;d.forEach(V=>{V||(L=!1)}),L&&(_==null||_(),x(u.current),s&&s())};return y.jsx(_a,{isPresent:$,initial:!c.current||n?void 0:!1,custom:$?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:$?void 0:v,children:R},S)})})};class Ea extends p.Component{constructor(){super(...arguments);Fe(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-400 mb-8",children:"We're sorry for the inconvenience"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white text-black rounded-lg hover:bg-white/90 transition-colors",children:"Refresh Page"})]})}):this.props.children}}var on={};Object.defineProperty(on,"__esModule",{value:!0});on.parse=$a;on.serialize=Oa;const Sa=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Ra=/^[\u0021-\u003A\u003C-\u007E]*$/,Ca=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Ta=/^[\u0020-\u003A\u003D-\u007E]*$/,Pa=Object.prototype.toString,ja=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function $a(r,e){const t=new ja,n=r.length;if(n<2)return t;const s=(e==null?void 0:e.decode)||Aa;let i=0;do{const a=r.indexOf("=",i);if(a===-1)break;const o=r.indexOf(";",i),l=o===-1?n:o;if(a>l){i=r.lastIndexOf(";",a-1)+1;continue}const c=Nn(r,i,a),u=Un(r,a,c),d=r.slice(c,u);if(t[d]===void 0){let f=Nn(r,a+1,l),m=Un(r,l,f);const k=s(r.slice(f,m));t[d]=k}i=l+1}while(i<n);return t}function Nn(r,e,t){do{const n=r.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function Un(r,e,t){for(;e>t;){const n=r.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function Oa(r,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!Sa.test(r))throw new TypeError(`argument name is invalid: ${r}`);const s=n(e);if(!Ra.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=r+"="+s;if(!t)return i;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);i+="; Max-Age="+t.maxAge}if(t.domain){if(!Ca.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);i+="; Domain="+t.domain}if(t.path){if(!Ta.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);i+="; Path="+t.path}if(t.expires){if(!La(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);i+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.partitioned&&(i+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return i}function Aa(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function La(r){return Pa.call(r)==="[object Date]"}/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fn="popstate";function Da(r={}){function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Bt("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Ke(s)}return Ma(e,t,null,r)}function z(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function se(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ia(){return Math.random().toString(36).substring(2,10)}function zn(r,e){return{usr:r.state,key:r.key,idx:e}}function Bt(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ye(e):e,state:t,key:e&&e.key||n||Ia()}}function Ke({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ye(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Ma(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let w=u(),_=w==null?null:w-c;c=w,l&&l({action:o,location:x.location,delta:_})}function f(w,_){o="PUSH";let R=Bt(x.location,w,_);c=u()+1;let S=zn(R,c),$=x.createHref(R);try{a.pushState(S,"",$)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;s.location.assign($)}i&&l&&l({action:o,location:x.location,delta:1})}function m(w,_){o="REPLACE";let R=Bt(x.location,w,_);c=u();let S=zn(R,c),$=x.createHref(R);a.replaceState(S,"",$),i&&l&&l({action:o,location:x.location,delta:0})}function k(w){let _=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof w=="string"?w:Ke(w);return R=R.replace(/ $/,"%20"),z(_,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,_)}let x={get action(){return o},get location(){return r(s,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Fn,d),l=w,()=>{s.removeEventListener(Fn,d),l=null}},createHref(w){return e(s,w)},createURL:k,encodeLocation(w){let _=k(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(w){return a.go(w)}};return x}var Na=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ua(r){return r.index===!0}function pr(r,e,t=[],n={}){return r.map((s,i)=>{let a=[...t,String(i)],o=typeof s.id=="string"?s.id:a.join("-");if(z(s.index!==!0||!s.children,"Cannot specify children on an index route"),z(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),Ua(s)){let l={...s,...e(s),id:o};return n[o]=l,l}else{let l={...s,...e(s),id:o,children:void 0};return n[o]=l,s.children&&(l.children=pr(s.children,e,a,n)),l}})}function Je(r,e,t="/"){return dr(r,e,t,!1)}function dr(r,e,t,n){let s=typeof e=="string"?Ye(e):e,i=_e(s.pathname||"/",t);if(i==null)return null;let a=Ls(r);za(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Qa(i);o=Ya(a[l],c,n)}return o}function Fa(r,e){let{route:t,pathname:n,params:s}=r;return{id:t.id,pathname:n,params:s,data:e[t.id],handle:t.handle}}function Ls(r,e=[],t=[],n=""){let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(z(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=Re([n,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(z(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Ls(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Ga(c,i.index),routesMeta:u})};return r.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Ds(i.path))s(i,a,l)}),e}function Ds(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Ds(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function za(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Ka(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Ba=/^:[\w-]+$/,Ha=3,Va=2,qa=1,Wa=10,Ja=-2,Bn=r=>r==="*";function Ga(r,e){let t=r.split("/"),n=t.length;return t.some(Bn)&&(n+=Ja),e&&(n+=Va),t.filter(s=>!Bn(s)).reduce((s,i)=>s+(Ba.test(i)?Ha:i===""?qa:Wa),n)}function Ka(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function Ya(r,e,t=!1){let{routesMeta:n}=r,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=mr({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&t&&!n[n.length-1].route.index&&(d=mr({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Re([i,d.pathname]),pathnameBase:to(Re([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Re([i,d.pathnameBase]))}return a}function mr(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Xa(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let k=o[f]||"";a=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const m=o[f];return d&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:r}}function Xa(r,e=!1,t=!0){se(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Qa(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return se(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _e(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Za(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?Ye(r):r;return{pathname:t?t.startsWith("/")?t:eo(t,e):e,search:ro(n),hash:no(s)}}function eo(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Mr(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Is(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ln(r){let e=Is(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function cn(r,e,t,n=!1){let s;typeof r=="string"?s=Ye(r):(s={...r},z(!s.pathname||!s.pathname.includes("?"),Mr("?","pathname","search",s)),z(!s.pathname||!s.pathname.includes("#"),Mr("#","pathname","hash",s)),z(!s.search||!s.search.includes("#"),Mr("#","search","hash",s)));let i=r===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=Za(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Re=r=>r.join("/").replace(/\/\/+/g,"/"),to=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ro=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,no=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gr=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function _r(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ms=["POST","PUT","PATCH","DELETE"],so=new Set(Ms),io=["GET",...Ms],ao=new Set(io),oo=new Set([301,302,303,307,308]),lo=new Set([307,308]),Nr={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},co={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},un=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uo=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Ns="remix-router-transitions",Us=Symbol("ResetLoaderData");function ho(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";z(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.mapRouteProperties||uo,s={},i=pr(r.routes,n,void 0,s),a,o=r.basename||"/",l=r.dataStrategy||vo,c=r.patchRoutesOnNavigation,u={...r.future},d=null,f=new Set,m=null,k=null,x=null,w=r.hydrationData!=null,_=Je(i,r.history.location,o),R=null;if(_==null&&!c){let h=ge(404,{pathname:r.history.location.pathname}),{matches:g,route:b}=Zn(i);_=g,R={[b.id]:h}}_&&!r.hydrationData&&Xt(_,i,r.history.location.pathname).active&&(_=null);let S;if(_)if(_.some(h=>h.route.lazy))S=!1;else if(!_.some(h=>h.route.loader))S=!0;else{let h=r.hydrationData?r.hydrationData.loaderData:null,g=r.hydrationData?r.hydrationData.errors:null;if(g){let b=_.findIndex(E=>g[E.route.id]!==void 0);S=_.slice(0,b+1).every(E=>!Kr(E.route,h,g))}else S=_.every(b=>!Kr(b.route,h,g))}else{S=!1,_=[];let h=Xt(null,i,r.history.location.pathname);h.active&&h.matches&&(_=h.matches)}let $,v={historyAction:r.history.action,location:r.history.location,matches:_,initialized:S,navigation:Nr,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||R,fetchers:new Map,blockers:new Map},L="POP",V=!1,M,B=!1,Y=new Map,ie=null,H=!1,xe=!1,Pe=new Set,Q=new Map,je=0,Me=-1,ke=new Map,oe=new Set,$e=new Map,le=new Map,Oe=new Set,Xe=new Map,Kt,Qe=null;function ji(){if(d=r.history.listen(({action:h,location:g,delta:b})=>{if(Kt){Kt(),Kt=void 0;return}se(Xe.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let E=On({currentLocation:v.location,nextLocation:g,historyAction:h});if(E&&b!=null){let T=new Promise(O=>{Kt=O});r.history.go(b*-1),Yt(E,{state:"blocked",location:g,proceed(){Yt(E,{state:"proceeding",proceed:void 0,reset:void 0,location:g}),T.then(()=>r.history.go(b))},reset(){let O=new Map(v.blockers);O.set(E,jt),ce({blockers:O})}});return}return Ze(h,g)}),t){To(e,Y);let h=()=>Po(e,Y);e.addEventListener("pagehide",h),ie=()=>e.removeEventListener("pagehide",h)}return v.initialized||Ze("POP",v.location,{initialHydration:!0}),$}function $i(){d&&d(),ie&&ie(),f.clear(),M&&M.abort(),v.fetchers.forEach((h,g)=>Or(g)),v.blockers.forEach((h,g)=>$n(g))}function Oi(h){return f.add(h),()=>f.delete(h)}function ce(h,g={}){v={...v,...h};let b=[],E=[];v.fetchers.forEach((T,O)=>{T.state==="idle"&&(Oe.has(O)?b.push(O):E.push(O))}),[...f].forEach(T=>T(v,{deletedFetchers:b,viewTransitionOpts:g.viewTransitionOpts,flushSync:g.flushSync===!0})),b.forEach(T=>Or(T)),E.forEach(T=>v.fetchers.delete(T))}function dt(h,g,{flushSync:b}={}){var C,D;let E=v.actionData!=null&&v.navigation.formMethod!=null&&be(v.navigation.formMethod)&&v.navigation.state==="loading"&&((C=h.state)==null?void 0:C._isRedirect)!==!0,T;g.actionData?Object.keys(g.actionData).length>0?T=g.actionData:T=null:E?T=v.actionData:T=null;let O=g.loaderData?Xn(v.loaderData,g.loaderData,g.matches||[],g.errors):v.loaderData,A=v.blockers;A.size>0&&(A=new Map(A),A.forEach((U,K)=>A.set(K,jt)));let P=V===!0||v.navigation.formMethod!=null&&be(v.navigation.formMethod)&&((D=h.state)==null?void 0:D._isRedirect)!==!0;a&&(i=a,a=void 0),H||L==="POP"||(L==="PUSH"?r.history.push(h,h.state):L==="REPLACE"&&r.history.replace(h,h.state));let j;if(L==="POP"){let U=Y.get(v.location.pathname);U&&U.has(h.pathname)?j={currentLocation:v.location,nextLocation:h}:Y.has(h.pathname)&&(j={currentLocation:h,nextLocation:v.location})}else if(B){let U=Y.get(v.location.pathname);U?U.add(h.pathname):(U=new Set([h.pathname]),Y.set(v.location.pathname,U)),j={currentLocation:v.location,nextLocation:h}}ce({...g,actionData:T,loaderData:O,historyAction:L,location:h,initialized:!0,navigation:Nr,revalidation:"idle",restoreScrollPosition:Ln(h,g.matches||v.matches),preventScrollReset:P,blockers:A},{viewTransitionOpts:j,flushSync:b===!0}),L="POP",V=!1,B=!1,H=!1,xe=!1,Qe==null||Qe.resolve(),Qe=null}async function En(h,g){if(typeof h=="number"){r.history.go(h);return}let b=Gr(v.location,v.matches,o,h,g==null?void 0:g.fromRouteId,g==null?void 0:g.relative),{path:E,submission:T,error:O}=Hn(!1,b,g),A=v.location,P=Bt(v.location,E,g&&g.state);P={...P,...r.history.encodeLocation(P)};let j=g&&g.replace!=null?g.replace:void 0,C="PUSH";j===!0?C="REPLACE":j===!1||T!=null&&be(T.formMethod)&&T.formAction===v.location.pathname+v.location.search&&(C="REPLACE");let D=g&&"preventScrollReset"in g?g.preventScrollReset===!0:void 0,U=(g&&g.flushSync)===!0,K=On({currentLocation:A,nextLocation:P,historyAction:C});if(K){Yt(K,{state:"blocked",location:P,proceed(){Yt(K,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),En(h,g)},reset(){let ne=new Map(v.blockers);ne.set(K,jt),ce({blockers:ne})}});return}await Ze(C,P,{submission:T,pendingError:O,preventScrollReset:D,replace:g&&g.replace,enableViewTransition:g&&g.viewTransition,flushSync:U})}function Ai(){Qe||(Qe=jo()),$r(),ce({revalidation:"loading"});let h=Qe.promise;return v.navigation.state==="submitting"?h:v.navigation.state==="idle"?(Ze(v.historyAction,v.location,{startUninterruptedRevalidation:!0}),h):(Ze(L||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:B===!0}),h)}async function Ze(h,g,b){M&&M.abort(),M=null,L=h,H=(b&&b.startUninterruptedRevalidation)===!0,Hi(v.location,v.matches),V=(b&&b.preventScrollReset)===!0,B=(b&&b.enableViewTransition)===!0;let E=a||i,T=b&&b.overrideNavigation,O=Je(E,g,o),A=(b&&b.flushSync)===!0,P=Xt(O,E,g.pathname);if(P.active&&P.matches&&(O=P.matches),!O){let{error:X,notFoundMatches:J,route:ee}=Ar(g.pathname);dt(g,{matches:J,loaderData:{},errors:{[ee.id]:X}},{flushSync:A});return}if(v.initialized&&!xe&&ko(v.location,g)&&!(b&&b.submission&&be(b.submission.formMethod))){dt(g,{matches:O},{flushSync:A});return}M=new AbortController;let j=pt(r.history,g,M.signal,b&&b.submission),C;if(b&&b.pendingError)C=[st(O).route.id,{type:"error",error:b.pendingError}];else if(b&&b.submission&&be(b.submission.formMethod)){let X=await Li(j,g,b.submission,O,P.active,{replace:b.replace,flushSync:A});if(X.shortCircuited)return;if(X.pendingActionResult){let[J,ee]=X.pendingActionResult;if(pe(ee)&&_r(ee.error)&&ee.error.status===404){M=null,dt(g,{matches:X.matches,loaderData:{},errors:{[J]:ee.error}});return}}O=X.matches||O,C=X.pendingActionResult,T=Ur(g,b.submission),A=!1,P.active=!1,j=pt(r.history,j.url,j.signal)}let{shortCircuited:D,matches:U,loaderData:K,errors:ne}=await Di(j,g,O,P.active,T,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,b&&b.initialHydration===!0,A,C);D||(M=null,dt(g,{matches:U||O,...Qn(C),loaderData:K,errors:ne}))}async function Li(h,g,b,E,T,O={}){$r();let A=Ro(g,b);if(ce({navigation:A},{flushSync:O.flushSync===!0}),T){let C=await Qt(E,g.pathname,h.signal);if(C.type==="aborted")return{shortCircuited:!0};if(C.type==="error"){let D=st(C.partialMatches).route.id;return{matches:C.partialMatches,pendingActionResult:[D,{type:"error",error:C.error}]}}else if(C.matches)E=C.matches;else{let{notFoundMatches:D,error:U,route:K}=Ar(g.pathname);return{matches:D,pendingActionResult:[K.id,{type:"error",error:U}]}}}let P,j=Mt(E,g);if(!j.route.action&&!j.route.lazy)P={type:"error",error:ge(405,{method:h.method,pathname:g.pathname,routeId:j.route.id})};else if(P=(await Rt("action",v,h,[j],E,null))[j.route.id],h.signal.aborted)return{shortCircuited:!0};if(at(P)){let C;return O&&O.replace!=null?C=O.replace:C=Gn(P.response.headers.get("Location"),new URL(h.url),o)===v.location.pathname+v.location.search,await et(h,P,!0,{submission:b,replace:C}),{shortCircuited:!0}}if(pe(P)){let C=st(E,j.route.id);return(O&&O.replace)!==!0&&(L="PUSH"),{matches:E,pendingActionResult:[C.route.id,P]}}return{matches:E,pendingActionResult:[j.route.id,P]}}async function Di(h,g,b,E,T,O,A,P,j,C,D){let U=T||Ur(g,O),K=O||A||ts(U),ne=!H&&!j;if(E){if(ne){let ae=Sn(D);ce({navigation:U,...ae!==void 0?{actionData:ae}:{}},{flushSync:C})}let q=await Qt(b,g.pathname,h.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let ae=st(q.partialMatches).route.id;return{matches:q.partialMatches,loaderData:{},errors:{[ae]:q.error}}}else if(q.matches)b=q.matches;else{let{error:ae,notFoundMatches:tr,route:Pt}=Ar(g.pathname);return{matches:tr,loaderData:{},errors:{[Pt.id]:ae}}}}let X=a||i,[J,ee]=qn(r.history,v,b,K,g,j===!0,xe,Pe,Oe,$e,oe,X,o,D);if(Me=++je,J.length===0&&ee.length===0){let q=Pn();return dt(g,{matches:b,loaderData:{},errors:D&&pe(D[1])?{[D[0]]:D[1].error}:null,...Qn(D),...q?{fetchers:new Map(v.fetchers)}:{}},{flushSync:C}),{shortCircuited:!0}}if(ne){let q={};if(!E){q.navigation=U;let ae=Sn(D);ae!==void 0&&(q.actionData=ae)}ee.length>0&&(q.fetchers=Ii(ee)),ce(q,{flushSync:C})}ee.forEach(q=>{Ue(q.key),q.controller&&Q.set(q.key,q.controller)});let ht=()=>ee.forEach(q=>Ue(q.key));M&&M.signal.addEventListener("abort",ht);let{loaderResults:Ct,fetcherResults:Le}=await Rn(v,b,J,ee,h);if(h.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",ht),ee.forEach(q=>Q.delete(q.key));let Ee=sr(Ct);if(Ee)return await et(h,Ee.result,!0,{replace:P}),{shortCircuited:!0};if(Ee=sr(Le),Ee)return oe.add(Ee.key),await et(h,Ee.result,!0,{replace:P}),{shortCircuited:!0};let{loaderData:Lr,errors:Tt}=Yn(v,b,Ct,D,ee,Le);j&&v.errors&&(Tt={...v.errors,...Tt});let tt=Pn(),Zt=jn(Me),er=tt||Zt||ee.length>0;return{matches:b,loaderData:Lr,errors:Tt,...er?{fetchers:new Map(v.fetchers)}:{}}}function Sn(h){if(h&&!pe(h[1]))return{[h[0]]:h[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function Ii(h){return h.forEach(g=>{let b=v.fetchers.get(g.key),E=$t(void 0,b?b.data:void 0);v.fetchers.set(g.key,E)}),new Map(v.fetchers)}async function Mi(h,g,b,E){Ue(h);let T=(E&&E.flushSync)===!0,O=a||i,A=Gr(v.location,v.matches,o,b,g,E==null?void 0:E.relative),P=Je(O,A,o),j=Xt(P,O,A);if(j.active&&j.matches&&(P=j.matches),!P){Ae(h,g,ge(404,{pathname:A}),{flushSync:T});return}let{path:C,submission:D,error:U}=Hn(!0,A,E);if(U){Ae(h,g,U,{flushSync:T});return}let K=Mt(P,C),ne=(E&&E.preventScrollReset)===!0;if(D&&be(D.formMethod)){await Ni(h,g,C,K,P,j.active,T,ne,D);return}$e.set(h,{routeId:g,path:C}),await Ui(h,g,C,K,P,j.active,T,ne,D)}async function Ni(h,g,b,E,T,O,A,P,j){$r(),$e.delete(h);function C(Z){if(!Z.route.action&&!Z.route.lazy){let ft=ge(405,{method:j.formMethod,pathname:b,routeId:g});return Ae(h,g,ft,{flushSync:A}),!0}return!1}if(!O&&C(E))return;let D=v.fetchers.get(h);Ne(h,Co(j,D),{flushSync:A});let U=new AbortController,K=pt(r.history,b,U.signal,j);if(O){let Z=await Qt(T,b,K.signal);if(Z.type==="aborted")return;if(Z.type==="error"){Ae(h,g,Z.error,{flushSync:A});return}else if(Z.matches){if(T=Z.matches,E=Mt(T,b),C(E))return}else{Ae(h,g,ge(404,{pathname:b}),{flushSync:A});return}}Q.set(h,U);let ne=je,J=(await Rt("action",v,K,[E],T,h))[E.route.id];if(K.signal.aborted){Q.get(h)===U&&Q.delete(h);return}if(Oe.has(h)){if(at(J)||pe(J)){Ne(h,He(void 0));return}}else{if(at(J))if(Q.delete(h),Me>ne){Ne(h,He(void 0));return}else return oe.add(h),Ne(h,$t(j)),et(K,J,!1,{fetcherSubmission:j,preventScrollReset:P});if(pe(J)){Ae(h,g,J.error);return}}let ee=v.navigation.location||v.location,ht=pt(r.history,ee,U.signal),Ct=a||i,Le=v.navigation.state!=="idle"?Je(Ct,v.navigation.location,o):v.matches;z(Le,"Didn't find any matches after fetcher action");let Ee=++je;ke.set(h,Ee);let Lr=$t(j,J.data);v.fetchers.set(h,Lr);let[Tt,tt]=qn(r.history,v,Le,j,ee,!1,xe,Pe,Oe,$e,oe,Ct,o,[E.route.id,J]);tt.filter(Z=>Z.key!==h).forEach(Z=>{let ft=Z.key,Dn=v.fetchers.get(ft),Wi=$t(void 0,Dn?Dn.data:void 0);v.fetchers.set(ft,Wi),Ue(ft),Z.controller&&Q.set(ft,Z.controller)}),ce({fetchers:new Map(v.fetchers)});let Zt=()=>tt.forEach(Z=>Ue(Z.key));U.signal.addEventListener("abort",Zt);let{loaderResults:er,fetcherResults:q}=await Rn(v,Le,Tt,tt,ht);if(U.signal.aborted)return;U.signal.removeEventListener("abort",Zt),ke.delete(h),Q.delete(h),tt.forEach(Z=>Q.delete(Z.key));let ae=sr(er);if(ae)return et(ht,ae.result,!1,{preventScrollReset:P});if(ae=sr(q),ae)return oe.add(ae.key),et(ht,ae.result,!1,{preventScrollReset:P});let{loaderData:tr,errors:Pt}=Yn(v,Le,er,void 0,tt,q);if(v.fetchers.has(h)){let Z=He(J.data);v.fetchers.set(h,Z)}jn(Ee),v.navigation.state==="loading"&&Ee>Me?(z(L,"Expected pending action"),M&&M.abort(),dt(v.navigation.location,{matches:Le,loaderData:tr,errors:Pt,fetchers:new Map(v.fetchers)})):(ce({errors:Pt,loaderData:Xn(v.loaderData,tr,Le,Pt),fetchers:new Map(v.fetchers)}),xe=!1)}async function Ui(h,g,b,E,T,O,A,P,j){let C=v.fetchers.get(h);Ne(h,$t(j,C?C.data:void 0),{flushSync:A});let D=new AbortController,U=pt(r.history,b,D.signal);if(O){let J=await Qt(T,b,U.signal);if(J.type==="aborted")return;if(J.type==="error"){Ae(h,g,J.error,{flushSync:A});return}else if(J.matches)T=J.matches,E=Mt(T,b);else{Ae(h,g,ge(404,{pathname:b}),{flushSync:A});return}}Q.set(h,D);let K=je,X=(await Rt("loader",v,U,[E],T,h))[E.route.id];if(Q.get(h)===D&&Q.delete(h),!U.signal.aborted){if(Oe.has(h)){Ne(h,He(void 0));return}if(at(X))if(Me>K){Ne(h,He(void 0));return}else{oe.add(h),await et(U,X,!1,{preventScrollReset:P});return}if(pe(X)){Ae(h,g,X.error);return}Ne(h,He(X.data))}}async function et(h,g,b,{submission:E,fetcherSubmission:T,preventScrollReset:O,replace:A}={}){g.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let P=g.response.headers.get("Location");z(P,"Expected a Location header on the redirect Response"),P=Gn(P,new URL(h.url),o);let j=Bt(v.location,P,{_isRedirect:!0});if(t){let X=!1;if(g.response.headers.has("X-Remix-Reload-Document"))X=!0;else if(un.test(P)){const J=r.history.createURL(P);X=J.origin!==e.location.origin||_e(J.pathname,o)==null}if(X){A?e.location.replace(P):e.location.assign(P);return}}M=null;let C=A===!0||g.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:D,formAction:U,formEncType:K}=v.navigation;!E&&!T&&D&&U&&K&&(E=ts(v.navigation));let ne=E||T;if(lo.has(g.response.status)&&ne&&be(ne.formMethod))await Ze(C,j,{submission:{...ne,formAction:P},preventScrollReset:O||V,enableViewTransition:b?B:void 0});else{let X=Ur(j,E);await Ze(C,j,{overrideNavigation:X,fetcherSubmission:T,preventScrollReset:O||V,enableViewTransition:b?B:void 0})}}async function Rt(h,g,b,E,T,O){let A,P={};try{A=await yo(l,h,g,b,E,T,O,s,n)}catch(j){return E.forEach(C=>{P[C.route.id]={type:"error",error:j}}),P}for(let[j,C]of Object.entries(A))if(Eo(C)){let D=C.result;P[j]={type:"redirect",response:_o(D,b,j,T,o)}}else P[j]=await wo(C);return P}async function Rn(h,g,b,E,T){let O=Rt("loader",h,T,b,g,null),A=Promise.all(E.map(async C=>{if(C.matches&&C.match&&C.controller){let U=(await Rt("loader",h,pt(r.history,C.path,C.controller.signal),[C.match],C.matches,C.key))[C.match.route.id];return{[C.key]:U}}else return Promise.resolve({[C.key]:{type:"error",error:ge(404,{pathname:C.path})}})})),P=await O,j=(await A).reduce((C,D)=>Object.assign(C,D),{});return{loaderResults:P,fetcherResults:j}}function $r(){xe=!0,$e.forEach((h,g)=>{Q.has(g)&&Pe.add(g),Ue(g)})}function Ne(h,g,b={}){v.fetchers.set(h,g),ce({fetchers:new Map(v.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function Ae(h,g,b,E={}){let T=st(v.matches,g);Or(h),ce({errors:{[T.route.id]:b},fetchers:new Map(v.fetchers)},{flushSync:(E&&E.flushSync)===!0})}function Cn(h){return le.set(h,(le.get(h)||0)+1),Oe.has(h)&&Oe.delete(h),v.fetchers.get(h)||co}function Or(h){let g=v.fetchers.get(h);Q.has(h)&&!(g&&g.state==="loading"&&ke.has(h))&&Ue(h),$e.delete(h),ke.delete(h),oe.delete(h),Oe.delete(h),Pe.delete(h),v.fetchers.delete(h)}function Fi(h){let g=(le.get(h)||0)-1;g<=0?(le.delete(h),Oe.add(h)):le.set(h,g),ce({fetchers:new Map(v.fetchers)})}function Ue(h){let g=Q.get(h);g&&(g.abort(),Q.delete(h))}function Tn(h){for(let g of h){let b=Cn(g),E=He(b.data);v.fetchers.set(g,E)}}function Pn(){let h=[],g=!1;for(let b of oe){let E=v.fetchers.get(b);z(E,`Expected fetcher: ${b}`),E.state==="loading"&&(oe.delete(b),h.push(b),g=!0)}return Tn(h),g}function jn(h){let g=[];for(let[b,E]of ke)if(E<h){let T=v.fetchers.get(b);z(T,`Expected fetcher: ${b}`),T.state==="loading"&&(Ue(b),ke.delete(b),g.push(b))}return Tn(g),g.length>0}function zi(h,g){let b=v.blockers.get(h)||jt;return Xe.get(h)!==g&&Xe.set(h,g),b}function $n(h){v.blockers.delete(h),Xe.delete(h)}function Yt(h,g){let b=v.blockers.get(h)||jt;z(b.state==="unblocked"&&g.state==="blocked"||b.state==="blocked"&&g.state==="blocked"||b.state==="blocked"&&g.state==="proceeding"||b.state==="blocked"&&g.state==="unblocked"||b.state==="proceeding"&&g.state==="unblocked",`Invalid blocker state transition: ${b.state} -> ${g.state}`);let E=new Map(v.blockers);E.set(h,g),ce({blockers:E})}function On({currentLocation:h,nextLocation:g,historyAction:b}){if(Xe.size===0)return;Xe.size>1&&se(!1,"A router only supports one blocker at a time");let E=Array.from(Xe.entries()),[T,O]=E[E.length-1],A=v.blockers.get(T);if(!(A&&A.state==="proceeding")&&O({currentLocation:h,nextLocation:g,historyAction:b}))return T}function Ar(h){let g=ge(404,{pathname:h}),b=a||i,{matches:E,route:T}=Zn(b);return{notFoundMatches:E,route:T,error:g}}function Bi(h,g,b){if(m=h,x=g,k=b||null,!w&&v.navigation===Nr){w=!0;let E=Ln(v.location,v.matches);E!=null&&ce({restoreScrollPosition:E})}return()=>{m=null,x=null,k=null}}function An(h,g){return k&&k(h,g.map(E=>Fa(E,v.loaderData)))||h.key}function Hi(h,g){if(m&&x){let b=An(h,g);m[b]=x()}}function Ln(h,g){if(m){let b=An(h,g),E=m[b];if(typeof E=="number")return E}return null}function Xt(h,g,b){if(c)if(h){if(Object.keys(h[0].params).length>0)return{active:!0,matches:dr(g,b,o,!0)}}else return{active:!0,matches:dr(g,b,o,!0)||[]};return{active:!1,matches:null}}async function Qt(h,g,b){if(!c)return{type:"success",matches:h};let E=h;for(;;){let T=a==null,O=a||i,A=s;try{await c({path:g,matches:E,patch:(C,D)=>{b.aborted||Jn(C,D,O,A,n)}})}catch(C){return{type:"error",error:C,partialMatches:E}}finally{T&&!b.aborted&&(i=[...i])}if(b.aborted)return{type:"aborted"};let P=Je(O,g,o);if(P)return{type:"success",matches:P};let j=dr(O,g,o,!0);if(!j||E.length===j.length&&E.every((C,D)=>C.route.id===j[D].route.id))return{type:"success",matches:null};E=j}}function Vi(h){s={},a=pr(h,n,void 0,s)}function qi(h,g){let b=a==null;Jn(h,g,a||i,s,n),b&&(i=[...i],ce({}))}return $={get basename(){return o},get future(){return u},get state(){return v},get routes(){return i},get window(){return e},initialize:ji,subscribe:Oi,enableScrollRestoration:Bi,navigate:En,fetch:Mi,revalidate:Ai,createHref:h=>r.history.createHref(h),encodeLocation:h=>r.history.encodeLocation(h),getFetcher:Cn,deleteFetcher:Fi,dispose:$i,getBlocker:zi,deleteBlocker:$n,patchRoutes:qi,_internalFetchControllers:Q,_internalSetRoutes:Vi},$}function fo(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Gr(r,e,t,n,s,i){let a,o;if(s){a=[];for(let c of e)if(a.push(c),c.route.id===s){o=c;break}}else a=e,o=e[e.length-1];let l=cn(n||".",ln(a),_e(r.pathname,t)||r.pathname,i==="path");if(n==null&&(l.search=r.search,l.hash=r.hash),(n==null||n===""||n===".")&&o){let c=dn(l.search);if(o.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let u=new URLSearchParams(l.search),d=u.getAll("index");u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let f=u.toString();l.search=f?`?${f}`:""}}return t!=="/"&&(l.pathname=l.pathname==="/"?t:Re([t,l.pathname])),Ke(l)}function Hn(r,e,t){if(!t||!fo(t))return{path:e};if(t.formMethod&&!So(t.formMethod))return{path:e,error:ge(405,{method:t.formMethod})};let n=()=>({path:e,error:ge(400,{type:"invalid-body"})}),i=(t.formMethod||"get").toUpperCase(),a=zs(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!be(i))return n();let d=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((f,[m,k])=>`${f}${m}=${k}
`,""):String(t.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:d}}}else if(t.formEncType==="application/json"){if(!be(i))return n();try{let d=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:t.formEncType,formData:void 0,json:d,text:void 0}}}catch{return n()}}}z(typeof FormData=="function","FormData is not available in this environment");let o,l;if(t.formData)o=Yr(t.formData),l=t.formData;else if(t.body instanceof FormData)o=Yr(t.body),l=t.body;else if(t.body instanceof URLSearchParams)o=t.body,l=Kn(o);else if(t.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(t.body),l=Kn(o)}catch{return n()}let c={formMethod:i,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(be(c.formMethod))return{path:e,submission:c};let u=Ye(e);return r&&u.search&&dn(u.search)&&o.append("index",""),u.search=`?${o}`,{path:Ke(u),submission:c}}function Vn(r,e,t=!1){let n=r.findIndex(s=>s.route.id===e);return n>=0?r.slice(0,t?n+1:n):r}function qn(r,e,t,n,s,i,a,o,l,c,u,d,f,m){let k=m?pe(m[1])?m[1].error:m[1].data:void 0,x=r.createURL(e.location),w=r.createURL(s),_=t;i&&e.errors?_=Vn(t,Object.keys(e.errors)[0],!0):m&&pe(m[1])&&(_=Vn(t,m[0]));let R=m?m[1].statusCode:void 0,S=R&&R>=400,$=_.filter((L,V)=>{let{route:M}=L;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return Kr(M,e.loaderData,e.errors);if(po(e.loaderData,e.matches[V],L))return!0;let B=e.matches[V],Y=L;return Wn(L,{currentUrl:x,currentParams:B.params,nextUrl:w,nextParams:Y.params,...n,actionResult:k,actionStatus:R,defaultShouldRevalidate:S?!1:a||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||mo(B,Y)})}),v=[];return c.forEach((L,V)=>{if(i||!t.some(H=>H.route.id===L.routeId)||l.has(V))return;let M=Je(d,L.path,f);if(!M){v.push({key:V,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let B=e.fetchers.get(V),Y=Mt(M,L.path),ie=!1;u.has(V)?ie=!1:o.has(V)?(o.delete(V),ie=!0):B&&B.state!=="idle"&&B.data===void 0?ie=a:ie=Wn(Y,{currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:t[t.length-1].params,...n,actionResult:k,actionStatus:R,defaultShouldRevalidate:S?!1:a}),ie&&v.push({key:V,routeId:L.routeId,path:L.path,matches:M,match:Y,controller:new AbortController})}),[$,v]}function Kr(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&e[r.id]!==void 0,s=t!=null&&t[r.id]!==void 0;return!n&&s?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!s}function po(r,e,t){let n=!e||t.route.id!==e.route.id,s=!r.hasOwnProperty(t.route.id);return n||s}function mo(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Wn(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Jn(r,e,t,n,s){let i;if(r){let l=n[r];z(l,`No route found to patch children into: routeId = ${r}`),l.children||(l.children=[]),i=l.children}else i=t;let a=e.filter(l=>!i.some(c=>Fs(l,c))),o=pr(a,s,[r||"_","patch",String((i==null?void 0:i.length)||"0")],n);i.push(...o)}function Fs(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>Fs(t,i))}):!1}async function go(r,e,t){if(!r.lazy)return;let n=await r.lazy();if(!r.lazy)return;let s=t[r.id];z(s,"No route found in manifest");let i={};for(let a in n){let l=s[a]!==void 0&&a!=="hasErrorBoundary";se(!l,`Route "${s.id}" has a static property "${a}" defined but its lazy function is also returning a value for this property. The lazy route property "${a}" will be ignored.`),!l&&!Na.has(a)&&(i[a]=n[a])}Object.assign(s,i),Object.assign(s,{...e(s),lazy:void 0})}async function vo({matches:r}){let e=r.filter(n=>n.shouldLoad);return(await Promise.all(e.map(n=>n.resolve()))).reduce((n,s,i)=>Object.assign(n,{[e[i].route.id]:s}),{})}async function yo(r,e,t,n,s,i,a,o,l,c){let u=i.map(m=>m.route.lazy?go(m.route,l,o):void 0),d=i.map((m,k)=>{let x=u[k],w=s.some(R=>R.route.id===m.route.id);return{...m,shouldLoad:w,resolve:async R=>(R&&n.method==="GET"&&(m.route.lazy||m.route.loader)&&(w=!0),w?bo(e,n,m,x,R,c):Promise.resolve({type:"data",result:void 0}))}}),f=await r({matches:d,request:n,params:i[0].params,fetcherKey:a,context:c});try{await Promise.all(u)}catch{}return f}async function bo(r,e,t,n,s,i){let a,o,l=c=>{let u,d=new Promise((k,x)=>u=x);o=()=>u(),e.signal.addEventListener("abort",o);let f=k=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):c({request:e,params:t.params,context:i},...k!==void 0?[k]:[]),m=(async()=>{try{return{type:"data",result:await(s?s(x=>f(x)):f())}}catch(k){return{type:"error",result:k}}})();return Promise.race([m,d])};try{let c=t.route[r];if(n)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),n]);if(u!==void 0)throw u;a=d}else if(await n,c=t.route[r],c)a=await l(c);else if(r==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ge(405,{method:e.method,pathname:d,routeId:t.route.id})}else return{type:"data",result:void 0};else if(c)a=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ge(404,{pathname:d})}}catch(c){return{type:"error",result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function wo(r){var n,s,i,a;let{result:e,type:t}=r;if(Bs(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:"error",error:l}}return t==="error"?{type:"error",error:new gr(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:"data",data:o,statusCode:e.status,headers:e.headers}}if(t==="error"){if(es(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status};e=new gr(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:_r(e)?e.status:void 0}}return es(e)?{type:"data",data:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function _o(r,e,t,n,s){let i=r.headers.get("Location");if(z(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!un.test(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===t)+1);i=Gr(new URL(e.url),a,s,i),r.headers.set("Location",i)}return r}function Gn(r,e,t){if(un.test(r)){let n=r,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=_e(s.pathname,t)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return r}function pt(r,e,t,n){let s=r.createURL(zs(e)).toString(),i={signal:t};if(n&&be(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=Yr(n.formData):i.body=n.formData}return new Request(s,i)}function Yr(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function Kn(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function xo(r,e,t,n=!1,s=!1){let i={},a=null,o,l=!1,c={},u=t&&pe(t[1])?t[1].error:void 0;return r.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,m=e[f];if(z(!at(m),"Cannot handle redirect results in processLoaderData"),pe(m)){let k=m.error;if(u!==void 0&&(k=u,u=void 0),a=a||{},s)a[f]=k;else{let x=st(r,f);a[x.route.id]==null&&(a[x.route.id]=k)}n||(i[f]=Us),l||(l=!0,o=_r(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(o=m.statusCode),m.headers&&(c[f]=m.headers)}),u!==void 0&&t&&(a={[t[0]]:u},i[t[0]]=void 0),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:c}}function Yn(r,e,t,n,s,i){let{loaderData:a,errors:o}=xo(e,t,n);return s.forEach(l=>{let{key:c,match:u,controller:d}=l,f=i[c];if(z(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(pe(f)){let m=st(r.matches,u==null?void 0:u.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),r.fetchers.delete(c)}else if(at(f))z(!1,"Unhandled fetcher revalidation redirect");else{let m=He(f.data);r.fetchers.set(c,m)}}),{loaderData:a,errors:o}}function Xn(r,e,t,n){let s=Object.entries(e).filter(([,i])=>i!==Us).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of t){let a=i.route.id;if(!e.hasOwnProperty(a)&&r.hasOwnProperty(a)&&i.route.loader&&(s[a]=r[a]),n&&n.hasOwnProperty(a))break}return s}function Qn(r){return r?pe(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function st(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function Zn(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ge(r,{pathname:e,routeId:t,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return r===400?(a="Bad Request",n&&e&&t?o=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):r===403?(a="Forbidden",o=`Route "${t}" does not match URL "${e}"`):r===404?(a="Not Found",o=`No route matches URL "${e}"`):r===405&&(a="Method Not Allowed",n&&e&&t?o=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new gr(r||500,a,new Error(o),!0)}function sr(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,s]=e[t];if(at(s))return{key:n,result:s}}}function zs(r){let e=typeof r=="string"?Ye(r):r;return Ke({...e,hash:""})}function ko(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function Eo(r){return Bs(r.result)&&oo.has(r.result.status)}function pe(r){return r.type==="error"}function at(r){return(r&&r.type)==="redirect"}function es(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Bs(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function So(r){return ao.has(r.toUpperCase())}function be(r){return so.has(r.toUpperCase())}function dn(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Mt(r,e){let t=typeof e=="string"?Ye(e).search:e.search;if(r[r.length-1].route.index&&dn(t||""))return r[r.length-1];let n=Is(r);return n[n.length-1]}function ts(r){let{formMethod:e,formAction:t,formEncType:n,text:s,formData:i,json:a}=r;if(!(!e||!t||!n)){if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ur(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ro(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $t(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Co(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function He(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function To(r,e){try{let t=r.sessionStorage.getItem(Ns);if(t){let n=JSON.parse(t);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Po(r,e){if(e.size>0){let t={};for(let[n,s]of e)t[n]=[...s];try{r.sessionStorage.setItem(Ns,JSON.stringify(t))}catch(n){se(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function jo(){let r,e,t=new Promise((n,s)=>{r=async i=>{n(i);try{await t}catch{}},e=async i=>{s(i);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var lt=p.createContext(null);lt.displayName="DataRouter";var Vt=p.createContext(null);Vt.displayName="DataRouterState";var hn=p.createContext({isTransitioning:!1});hn.displayName="ViewTransition";var Hs=p.createContext(new Map);Hs.displayName="Fetchers";var $o=p.createContext(null);$o.displayName="Await";var Ce=p.createContext(null);Ce.displayName="Navigation";var xr=p.createContext(null);xr.displayName="Location";var Te=p.createContext({outlet:null,matches:[],isDataRoute:!1});Te.displayName="Route";var fn=p.createContext(null);fn.displayName="RouteError";function Oo(r,{relative:e}={}){z(qt(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=p.useContext(Ce),{hash:s,pathname:i,search:a}=Wt(r,{relative:e}),o=i;return t!=="/"&&(o=i==="/"?t:Re([t,i])),n.createHref({pathname:o,search:a,hash:s})}function qt(){return p.useContext(xr)!=null}function ye(){return z(qt(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(xr).location}var Vs="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qs(r){p.useContext(Ce).static||p.useLayoutEffect(r)}function xt(){let{isDataRoute:r}=p.useContext(Te);return r?Jo():Ao()}function Ao(){z(qt(),"useNavigate() may be used only in the context of a <Router> component.");let r=p.useContext(lt),{basename:e,navigator:t}=p.useContext(Ce),{matches:n}=p.useContext(Te),{pathname:s}=ye(),i=JSON.stringify(ln(n)),a=p.useRef(!1);return qs(()=>{a.current=!0}),p.useCallback((l,c={})=>{if(se(a.current,Vs),!a.current)return;if(typeof l=="number"){t.go(l);return}let u=cn(l,JSON.parse(i),s,c.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Re([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,i,s,r])}var Lo=p.createContext(null);function Do(r){let e=p.useContext(Te).outlet;return e&&p.createElement(Lo.Provider,{value:r},e)}function Wt(r,{relative:e}={}){let{matches:t}=p.useContext(Te),{pathname:n}=ye(),s=JSON.stringify(ln(t));return p.useMemo(()=>cn(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function Io(r,e,t,n){z(qt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=p.useContext(Ce),{matches:i}=p.useContext(Te),a=i[i.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",u=a&&a.route;{let _=u&&u.path||"";Ws(l,!u||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let d=ye(),f;f=d;let m=f.pathname||"/",k=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");k="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=Je(r,{pathname:k});return se(u||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),se(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),zo(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Re([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Re([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,t,n)}function Mo(){let r=Wo(),e=_r(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),t?p.createElement("pre",{style:s},t):null,a)}var No=p.createElement(Mo,null),Uo=class extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?p.createElement(Te.Provider,{value:this.props.routeContext},p.createElement(fn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fo({routeContext:r,match:e,children:t}){let n=p.useContext(lt);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),p.createElement(Te.Provider,{value:r},t)}function zo(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,i=t==null?void 0:t.errors;if(i!=null){let l=s.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);z(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(t)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:d}=t,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,u)=>{let d,f=!1,m=null,k=null;t&&(d=i&&c.route.id?i[c.route.id]:void 0,m=c.route.errorElement||No,a&&(o<0&&u===0?(Ws("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,k=null):o===u&&(f=!0,k=c.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,u+1)),w=()=>{let _;return d?_=m:f?_=k:c.route.Component?_=p.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,p.createElement(Fo,{match:c,routeContext:{outlet:l,matches:x,isDataRoute:t!=null},children:_})};return t&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?p.createElement(Uo,{location:t.location,revalidation:t.revalidation,component:m,error:d,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function pn(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bo(r){let e=p.useContext(lt);return z(e,pn(r)),e}function Ho(r){let e=p.useContext(Vt);return z(e,pn(r)),e}function Vo(r){let e=p.useContext(Te);return z(e,pn(r)),e}function mn(r){let e=Vo(r),t=e.matches[e.matches.length-1];return z(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function qo(){return mn("useRouteId")}function Wo(){var n;let r=p.useContext(fn),e=Ho("useRouteError"),t=mn("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function Jo(){let{router:r}=Bo("useNavigate"),e=mn("useNavigate"),t=p.useRef(!1);return qs(()=>{t.current=!0}),p.useCallback(async(s,i={})=>{se(t.current,Vs),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...i}))},[r,e])}var rs={};function Ws(r,e,t){!e&&!rs[r]&&(rs[r]=!0,se(!1,t))}var ns={};function ss(r,e){!r&&!ns[e]&&(ns[e]=!0,console.warn(e))}function Go(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&se(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:p.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&se(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:p.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&se(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:p.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var Ko=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Yo({router:r,flushSync:e}){let[t,n]=p.useState(r.state),[s,i]=p.useState(),[a,o]=p.useState({isTransitioning:!1}),[l,c]=p.useState(),[u,d]=p.useState(),[f,m]=p.useState(),k=p.useRef(new Map),x=p.useCallback((S,{deletedFetchers:$,flushSync:v,viewTransitionOpts:L})=>{$.forEach(M=>k.current.delete(M)),S.fetchers.forEach((M,B)=>{M.data!==void 0&&k.current.set(B,M.data)}),ss(v===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(ss(L==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!V){e&&v?e(()=>n(S)):p.startTransition(()=>n(S));return}if(e&&v){e(()=>{u&&(l&&l.resolve(),u.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let M=r.window.document.startViewTransition(()=>{e(()=>n(S))});M.finished.finally(()=>{e(()=>{c(void 0),d(void 0),i(void 0),o({isTransitioning:!1})})}),e(()=>d(M));return}u?(l&&l.resolve(),u.skipTransition(),m({state:S,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(i(S),o({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[r.window,e,u,l]);p.useLayoutEffect(()=>r.subscribe(x),[r,x]),p.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new Ko)},[a]),p.useEffect(()=>{if(l&&s&&r.window){let S=s,$=l.promise,v=r.window.document.startViewTransition(async()=>{p.startTransition(()=>n(S)),await $});v.finished.finally(()=>{c(void 0),d(void 0),i(void 0),o({isTransitioning:!1})}),d(v)}},[s,l,r.window]),p.useEffect(()=>{l&&s&&t.location.key===s.location.key&&l.resolve()},[l,u,t.location,s]),p.useEffect(()=>{!a.isTransitioning&&f&&(i(f.state),o({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[a.isTransitioning,f]);let w=p.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:S=>r.navigate(S),push:(S,$,v)=>r.navigate(S,{state:$,preventScrollReset:v==null?void 0:v.preventScrollReset}),replace:(S,$,v)=>r.navigate(S,{replace:!0,state:$,preventScrollReset:v==null?void 0:v.preventScrollReset})}),[r]),_=r.basename||"/",R=p.useMemo(()=>({router:r,navigator:w,static:!1,basename:_}),[r,w,_]);return p.createElement(p.Fragment,null,p.createElement(lt.Provider,{value:R},p.createElement(Vt.Provider,{value:t},p.createElement(Hs.Provider,{value:k.current},p.createElement(hn.Provider,{value:a},p.createElement(el,{basename:_,location:t.location,navigationType:t.historyAction,navigator:w},p.createElement(Xo,{routes:r.routes,future:r.future,state:t})))))),null)}var Xo=p.memo(Qo);function Qo({routes:r,future:e,state:t}){return Io(r,void 0,t,e)}function Zo(r){return Do(r.context)}function el({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:i=!1}){z(!qt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),o=p.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof t=="string"&&(t=Ye(t));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=t,m=p.useMemo(()=>{let k=_e(l,a);return k==null?null:{location:{pathname:k,search:c,hash:u,state:d,key:f},navigationType:n}},[a,l,c,u,d,f,n]);return se(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(Ce.Provider,{value:o},p.createElement(xr.Provider,{children:e,value:m}))}var hr="get",fr="application/x-www-form-urlencoded";function kr(r){return r!=null&&typeof r.tagName=="string"}function tl(r){return kr(r)&&r.tagName.toLowerCase()==="button"}function rl(r){return kr(r)&&r.tagName.toLowerCase()==="form"}function nl(r){return kr(r)&&r.tagName.toLowerCase()==="input"}function sl(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function il(r,e){return r.button===0&&(!e||e==="_self")&&!sl(r)}var ir=null;function al(){if(ir===null)try{new FormData(document.createElement("form"),0),ir=!1}catch{ir=!0}return ir}var ol=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fr(r){return r!=null&&!ol.has(r)?(se(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fr}"`),null):r}function ll(r,e){let t,n,s,i,a;if(rl(r)){let o=r.getAttribute("action");n=o?_e(o,e):null,t=r.getAttribute("method")||hr,s=Fr(r.getAttribute("enctype"))||fr,i=new FormData(r)}else if(tl(r)||nl(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||o.getAttribute("action");if(n=l?_e(l,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||hr,s=Fr(r.getAttribute("formenctype"))||Fr(o.getAttribute("enctype"))||fr,i=new FormData(o,r),!al()){let{name:c,type:u,value:d}=r;if(u==="image"){let f=c?`${c}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else c&&i.append(c,d)}}else{if(kr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hr,n=null,s=fr,a=r}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:i,body:a}}function gn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function cl(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ul(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dl(r,e,t){let n=await Promise.all(r.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await cl(i,t);return a.links?a.links():[]}return[]}));return ml(n.flat(1).filter(ul).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function is(r,e,t,n,s,i){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,o=(l,c)=>{var u;return t[c].pathname!==l.pathname||((u=t[c].route.path)==null?void 0:u.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function hl(r,e){return fl(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function fl(r){return[...new Set(r)]}function pl(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function ml(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let i=JSON.stringify(pl(s));return t.has(i)||(t.add(i),n.push({key:i,link:s})),n},[])}function gl(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vl(){let r=p.useContext(lt);return gn(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yl(){let r=p.useContext(Vt);return gn(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vn=p.createContext(void 0);vn.displayName="FrameworkContext";function Js(){let r=p.useContext(vn);return gn(r,"You must render this element inside a <HydratedRouter> element"),r}function bl(r,e){let t=p.useContext(vn),[n,s]=p.useState(!1),[i,a]=p.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,f=p.useRef(null);p.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let x=_=>{_.forEach(R=>{a(R.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[r]),p.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{s(!0)},k=()=>{s(!1),a(!1)};return t?r!=="intent"?[i,f,{}]:[i,f,{onFocus:Ot(o,m),onBlur:Ot(l,k),onMouseEnter:Ot(c,m),onMouseLeave:Ot(u,k),onTouchStart:Ot(d,m)}]:[!1,f,{}]}function Ot(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function wl({page:r,...e}){let{router:t}=vl(),n=p.useMemo(()=>Je(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?p.createElement(xl,{page:r,matches:n,...e}):null}function _l(r){let{manifest:e,routeModules:t}=Js(),[n,s]=p.useState([]);return p.useEffect(()=>{let i=!1;return dl(r,e,t).then(a=>{i||s(a)}),()=>{i=!0}},[r,e,t]),n}function xl({page:r,matches:e,...t}){let n=ye(),{manifest:s,routeModules:i}=Js(),{loaderData:a,matches:o}=yl(),l=p.useMemo(()=>is(r,e,o,s,n,"data"),[r,e,o,s,n]),c=p.useMemo(()=>is(r,e,o,s,n,"assets"),[r,e,o,s,n]),u=p.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let m=new Set,k=!1;if(e.forEach(w=>{var R;let _=s.routes[w.route.id];!_||!_.hasLoader||(!l.some(S=>S.route.id===w.route.id)&&w.route.id in a&&((R=i[w.route.id])!=null&&R.shouldRevalidate)||_.hasClientLoader?k=!0:m.add(w.route.id))}),m.size===0)return[];let x=gl(r);return k&&m.size>0&&x.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[a,n,s,l,e,r,i]),d=p.useMemo(()=>hl(c,s),[c,s]),f=_l(c);return p.createElement(p.Fragment,null,u.map(m=>p.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),d.map(m=>p.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),f.map(({key:m,link:k})=>p.createElement("link",{key:m,...k})))}function kl(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gs&&(window.__reactRouterVersion="7.1.1")}catch{}function El(r,e){return ho({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Da({window:e==null?void 0:e.window}),hydrationData:Sl(),routes:r,mapRouteProperties:Go,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Sl(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Rl(r.errors)}),r}function Rl(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")t[n]=new gr(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",t[n]=a}catch{}}if(t[n]==null){let i=new Error(s.message);i.stack="",t[n]=i}}else t[n]=s;return t}var Ks=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vr=p.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},m){let{basename:k}=p.useContext(Ce),x=typeof c=="string"&&Ks.test(c),w,_=!1;if(typeof c=="string"&&x&&(w=c,Gs))try{let B=new URL(window.location.href),Y=c.startsWith("//")?new URL(B.protocol+c):new URL(c),ie=_e(Y.pathname,k);Y.origin===B.origin&&ie!=null?c=ie+Y.search+Y.hash:_=!0}catch{se(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=Oo(c,{relative:s}),[S,$,v]=bl(n,f),L=jl(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function V(B){e&&e(B),B.defaultPrevented||L(B)}let M=p.createElement("a",{...f,...v,href:w||R,onClick:_||i?e:V,ref:kl(m,$),target:l,"data-discover":!x&&t==="render"?"true":void 0});return S&&!x?p.createElement(p.Fragment,null,M,p.createElement(wl,{page:R})):M});vr.displayName="Link";var Cl=p.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...c},u){let d=Wt(a,{relative:c.relative}),f=ye(),m=p.useContext(Vt),{navigator:k,basename:x}=p.useContext(Ce),w=m!=null&&Dl(d)&&o===!0,_=k.encodeLocation?k.encodeLocation(d).pathname:d.pathname,R=f.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(R=R.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&x&&(S=_e(S,x)||S);const $=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let v=R===_||!s&&R.startsWith(_)&&R.charAt($)==="/",L=S!=null&&(S===_||!s&&S.startsWith(_)&&S.charAt(_.length)==="/"),V={isActive:v,isPending:L,isTransitioning:w},M=v?e:void 0,B;typeof n=="function"?B=n(V):B=[n,v?"active":null,L?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Y=typeof i=="function"?i(V):i;return p.createElement(vr,{...c,"aria-current":M,className:B,ref:u,style:Y,to:a,viewTransition:o},typeof l=="function"?l(V):l)});Cl.displayName="NavLink";var Tl=p.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:i,method:a=hr,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},m)=>{let k=Al(),x=Ll(o,{relative:c}),w=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&Ks.test(o),R=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let $=S.nativeEvent.submitter,v=($==null?void 0:$.getAttribute("formmethod"))||a;k($||S.currentTarget,{fetcherKey:e,method:v,navigate:t,replace:s,state:i,relative:c,preventScrollReset:u,viewTransition:d})};return p.createElement("form",{ref:m,method:w,action:x,onSubmit:n?l:R,...f,"data-discover":!_&&r==="render"?"true":void 0})});Tl.displayName="Form";function Pl(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ys(r){let e=p.useContext(lt);return z(e,Pl(r)),e}function jl(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=xt(),l=ye(),c=Wt(r,{relative:i});return p.useCallback(u=>{if(il(u,e)){u.preventDefault();let d=t!==void 0?t:Ke(l)===Ke(c);o(r,{replace:d,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,c,t,n,e,r,s,i,a])}var $l=0,Ol=()=>`__${String(++$l)}__`;function Al(){let{router:r}=Ys("useSubmit"),{basename:e}=p.useContext(Ce),t=qo();return p.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:l,body:c}=ll(n,e);if(s.navigate===!1){let u=s.fetcherKey||Ol();await r.fetch(u,t,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await r.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function Ll(r,{relative:e}={}){let{basename:t}=p.useContext(Ce),n=p.useContext(Te);z(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Wt(r||".",{relative:e})},a=ye();if(r==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();i.search=u?`?${u}`:""}}return(!r||r===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Re([t,i.pathname])),Ke(i)}function Dl(r,e={}){let t=p.useContext(hn);z(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ys("useViewTransitionState"),s=Wt(r,{relative:e.relative});if(!t.isTransitioning)return!1;let i=_e(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=_e(t.nextLocation.pathname,n)||t.nextLocation.pathname;return mr(s.pathname,a)!=null||mr(s.pathname,i)!=null}new TextEncoder;/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(r){return p.createElement(Yo,{flushSync:Es.flushSync,...r})}const Ml="modulepreload",Nl=function(r){return"/"+r},as={},he=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=Nl(l),l in as)return;as[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Ml,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function Xs(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=Xs(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Ul(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=Xs(r))&&(n&&(n+=" "),n+=e);return n}const yn="-",Fl=r=>{const e=Bl(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:a=>{const o=a.split(yn);return o[0]===""&&o.length!==1&&o.shift(),Qs(o,e)||zl(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},Qs=(r,e)=>{var a;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),s=n?Qs(r.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=r.join(yn);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},os=/^\[(.+)\]$/,zl=r=>{if(os.test(r)){const e=os.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Bl=r=>{const{theme:e,prefix:t}=r,n={nextPart:new Map,validators:[]};return Vl(Object.entries(r.classGroups),t).forEach(([i,a])=>{Xr(a,n,i,e)}),n},Xr=(r,e,t,n)=>{r.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ls(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(Hl(s)){Xr(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,a])=>{Xr(a,ls(e,i),t,n)})})},ls=(r,e)=>{let t=r;return e.split(yn).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},Hl=r=>r.isThemeGetter,Vl=(r,e)=>e?r.map(([t,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[t,s]}):r,ql=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(i,a)=>{t.set(i,a),e++,e>r&&(e=0,n=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){t.has(i)?t.set(i,a):s(i,a)}}},Zs="!",Wl=r=>{const{separator:e,experimentalParseClassName:t}=r,n=e.length===1,s=e[0],i=e.length,a=o=>{const l=[];let c=0,u=0,d;for(let w=0;w<o.length;w++){let _=o[w];if(c===0){if(_===s&&(n||o.slice(w,w+i)===e)){l.push(o.slice(u,w)),u=w+i;continue}if(_==="/"){d=w;continue}}_==="["?c++:_==="]"&&c--}const f=l.length===0?o:o.substring(u),m=f.startsWith(Zs),k=m?f.substring(1):f,x=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:k,maybePostfixModifierPosition:x}};return t?o=>t({className:o,parseClassName:a}):a},Jl=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},Gl=r=>({cache:ql(r.cacheSize),parseClassName:Wl(r),...Fl(r)}),Kl=/\s+/,Yl=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=r.trim().split(Kl);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=t(c);let k=!!m,x=n(k?f.substring(0,m):f);if(!x){if(!k){o=c+(o.length>0?" "+o:o);continue}if(x=n(f),!x){o=c+(o.length>0?" "+o:o);continue}k=!1}const w=Jl(u).join(":"),_=d?w+Zs:w,R=_+x;if(i.includes(R))continue;i.push(R);const S=s(x,k);for(let $=0;$<S.length;++$){const v=S[$];i.push(_+v)}o=c+(o.length>0?" "+o:o)}return o};function Xl(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=ei(e))&&(n&&(n+=" "),n+=t);return n}const ei=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=ei(r[n]))&&(t&&(t+=" "),t+=e);return t};function Ql(r,...e){let t,n,s,i=a;function a(l){const c=e.reduce((u,d)=>d(u),r());return t=Gl(c),n=t.cache.get,s=t.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=Yl(l,t);return s(l,u),u}return function(){return i(Xl.apply(null,arguments))}}const G=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},ti=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zl=/^\d+\/\d+$/,ec=new Set(["px","full","screen"]),tc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ic=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,De=r=>bt(r)||ec.has(r)||Zl.test(r),ze=r=>kt(r,"length",fc),bt=r=>!!r&&!Number.isNaN(Number(r)),zr=r=>kt(r,"number",bt),At=r=>!!r&&Number.isInteger(Number(r)),ac=r=>r.endsWith("%")&&bt(r.slice(0,-1)),I=r=>ti.test(r),Be=r=>tc.test(r),oc=new Set(["length","size","percentage"]),lc=r=>kt(r,oc,ri),cc=r=>kt(r,"position",ri),uc=new Set(["image","url"]),dc=r=>kt(r,uc,mc),hc=r=>kt(r,"",pc),Lt=()=>!0,kt=(r,e,t)=>{const n=ti.exec(r);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},fc=r=>rc.test(r)&&!nc.test(r),ri=()=>!1,pc=r=>sc.test(r),mc=r=>ic.test(r),gc=()=>{const r=G("colors"),e=G("spacing"),t=G("blur"),n=G("brightness"),s=G("borderColor"),i=G("borderRadius"),a=G("borderSpacing"),o=G("borderWidth"),l=G("contrast"),c=G("grayscale"),u=G("hueRotate"),d=G("invert"),f=G("gap"),m=G("gradientColorStops"),k=G("gradientColorStopPositions"),x=G("inset"),w=G("margin"),_=G("opacity"),R=G("padding"),S=G("saturate"),$=G("scale"),v=G("sepia"),L=G("skew"),V=G("space"),M=G("translate"),B=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],ie=()=>["auto",I,e],H=()=>[I,e],xe=()=>["",De,ze],Pe=()=>["auto",bt,I],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],je=()=>["solid","dashed","dotted","double","none"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",I],$e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[bt,I];return{cacheSize:500,separator:":",theme:{colors:[Lt],spacing:[De,ze],blur:["none","",Be,I],brightness:le(),borderColor:[r],borderRadius:["none","","full",Be,I],borderSpacing:H(),borderWidth:xe(),contrast:le(),grayscale:oe(),hueRotate:le(),invert:oe(),gap:H(),gradientColorStops:[r],gradientColorStopPositions:[ac,ze],inset:ie(),margin:ie(),opacity:le(),padding:H(),saturate:le(),scale:le(),sepia:oe(),skew:le(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",I]}],container:["container"],columns:[{columns:[Be]}],"break-after":[{"break-after":$e()}],"break-before":[{"break-before":$e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),I]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",At,I]}],basis:[{basis:ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",I]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",At,I]}],"grid-cols":[{"grid-cols":[Lt]}],"col-start-end":[{col:["auto",{span:["full",At,I]},I]}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":[Lt]}],"row-start-end":[{row:["auto",{span:[At,I]},I]}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",I]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",I]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ke()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ke(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ke(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",I,e]}],"min-w":[{"min-w":[I,e,"min","max","fit"]}],"max-w":[{"max-w":[I,e,"none","full","min","max","fit","prose",{screen:[Be]},Be]}],h:[{h:[I,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[I,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[I,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[I,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Be,ze]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zr]}],"font-family":[{font:[Lt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",I]}],"line-clamp":[{"line-clamp":["none",bt,zr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",De,I]}],"list-image":[{"list-image":["none",I]}],"list-style-type":[{list:["none","disc","decimal",I]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",De,ze]}],"underline-offset":[{"underline-offset":["auto",De,I]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",I]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",I]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),cc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dc]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...je(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:je()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...je()]}],"outline-offset":[{"outline-offset":[De,I]}],"outline-w":[{outline:[De,ze]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[De,ze]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Be,hc]}],"shadow-color":[{shadow:[Lt]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Me()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Be,I]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",I]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",I]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",I]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[At,I]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",I]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",I]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",I]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[De,ze,zr]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vc=Ql(gc);function ni(...r){return vc(Ul(r))}function si({children:r,className:e}){return y.jsx("div",{className:ni("max-w-7xl mx-auto px-4",e),children:r})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(r,e)=>{const t=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>p.createElement("svg",{ref:u,...yc,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bc(r)}`,o].join(" "),...c},[...e.map(([d,f])=>p.createElement(d,f)),...Array.isArray(l)?l:[l]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function ii({children:r,className:e,variant:t="primary",size:n="default",...s}){const i="relative backdrop-blur-md rounded-lg font-semibold transition-all duration-300 hover:scale-105 active:scale-100",a={primary:"bg-white text-black hover:bg-white/90",secondary:"bg-white/5 text-white hover:bg-white/10 border border-white/20"},o={default:"px-6 py-2",lg:"px-8 py-4 text-lg"};return y.jsx("button",{className:ni(i,a[t],o[n],e),...s,children:r})}const Uc=[{href:"/",label:"Home"},{href:"/about",label:"About"},{href:"/tournaments",label:"Tournaments"},{href:"/past-events",label:"Past Events"},{href:"/blog",label:"Blog"}];function Fc({onNavigate:r}){const[e,t]=p.useState(!1),n=xt(),s=ye(),i=a=>{t(!1),a.startsWith("#")?r==null||r(a.replace("#","")):n(a)};return y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>t(!e),className:"lg:hidden text-white","aria-label":"Toggle menu",children:y.jsx(jc,{className:"w-8 h-8"})}),y.jsxs("div",{className:`${e?"absolute top-0 left-0 right-0 bottom-0 min-h-screen bg-black/95 z-50":"hidden lg:block"}`,children:[e&&y.jsx("div",{className:"p-4 flex justify-end lg:hidden",children:y.jsx("button",{onClick:()=>t(!1),className:"text-white","aria-label":"Close menu",children:y.jsx(Mc,{className:"w-8 h-8"})})}),y.jsxs("nav",{className:`
          ${e?"flex flex-col items-center justify-center gap-8 min-h-[80vh]":"flex items-center gap-8"}
        `,children:[y.jsx("div",{className:`
            ${e?"flex flex-col items-center gap-8 text-xl":"flex items-center gap-6"}
          `,children:Uc.map(a=>y.jsx("a",{href:a.href,onClick:o=>{o.preventDefault(),i(a.href)},className:`text-gray-300 hover:text-white transition-colors duration-300 ${s.pathname===a.href?"text-white font-semibold":""}`,children:a.label},a.href))}),y.jsx(ii,{variant:"primary",children:"Register Now"})]})]})]})}const ai="/assets/logo-DpKPnSbL.png";function zc(){const r=xt(),e=ye(),[t,n]=p.useState(!1);p.useEffect(()=>{const a=()=>{n(window.scrollY>0)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const s=a=>{a.preventDefault(),r("/")},i=a=>{if(e.pathname==="/"){const o=document.getElementById(a);if(o){const u=o.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}}};return y.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-black/80 backdrop-blur-lg shadow-lg":"bg-transparent"}`,children:y.jsx(si,{children:y.jsxs("div",{className:"flex items-center justify-between h-20",children:[y.jsx("a",{href:"/",onClick:s,className:"flex items-center gap-2 text-white",children:y.jsx("img",{src:ai,alt:"ESLN Logo",className:"w-24 h-24"})}),y.jsx(Fc,{onNavigate:i})]})})})}function Bc(){const[r,e]=p.useState({name:"",email:"",message:""}),[t,n]=p.useState(!1),[s,i]=p.useState(""),a=l=>{const{name:c,value:u}=l.target;e({...r,[c]:u})},o=async l=>{l.preventDefault(),n(!0);const c={name:r.name,email:r.email,message:r.message};try{(await(await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,access_key:"328300aa-86e9-4b5b-bd2e-b28a9893ca7c"})})).json()).success?i("Thank you for contacting us! We will get back to you shortly."):i("Something went wrong. Please try again.")}catch{i("An error occurred. Please try again.")}finally{n(!1)}};return y.jsx("div",{className:"py-12 border-b border-white/10",children:y.jsxs("div",{className:"container mx-auto flex flex-col lg:flex-row items-center justify-between",children:[y.jsxs("div",{className:"lg:w-1/2 mb-8 lg:mb-0",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Get in Touch"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"Have any questions or want to get in touch with us? Drop us a message, and we'll get back to you."}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx(Tc,{className:"w-6 h-6 mr-4 text-white"}),y.jsx("span",{children:"Email: esportsleaguenepal2024@gmail.com"})]}),y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx($c,{className:"w-6 h-6 mr-4 text-white"}),y.jsx("span",{children:"Phone: +977-123-456789"})]}),y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx(Pc,{className:"w-6 h-6 mr-4 text-white"}),y.jsx("span",{children:"Address: New Baneshwor, Kathmandu, 56800"})]})]})]}),y.jsxs("div",{className:"lg:w-1/2",children:[y.jsxs("form",{onSubmit:o,className:"flex flex-col gap-4 max-w-md mx-auto",autoComplete:"on",children:[y.jsx("input",{type:"text",name:"name",value:r.name,onChange:a,placeholder:"Your Name",autoComplete:"name",className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-white/20"}),y.jsx("input",{type:"email",name:"email",value:r.email,onChange:a,placeholder:"Your Email",autoComplete:"email",className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-white/20"}),y.jsx("textarea",{name:"message",value:r.message,onChange:a,placeholder:"Your Message",autoComplete:"off",className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-white/20",rows:4}),y.jsx(ii,{variant:"primary",type:"submit",disabled:t,children:t?"Sending...":"Send Message"})]}),s&&y.jsx("div",{className:"mt-4 text-center text-white",children:y.jsx("p",{children:s})})]})]})})}const Hc=[{title:"About Us",links:[{label:"Our Story",href:"/about"},{label:"Mission & Vision",href:"/about#mission"},{label:"Team",href:"/about#team"}]},{title:"Tournaments",links:[{label:"Active Events",href:"/tournaments"},{label:"Past Events",href:"/past-events"}]},{title:"Resources",links:[{label:"Blog",href:"/blog"},{label:"Join the Community",href:"/tournaments"},{label:"Become a Partner",href:"/about#team"}]}];function Vc(){const r=xt(),e=ye(),t=n=>{const[s,i]=n.split("#");r(s),i&&setTimeout(()=>{const a=document.getElementById(i);a&&a.scrollIntoView({behavior:"smooth"})},100)};return y.jsx(y.Fragment,{children:Hc.map((n,s)=>y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white mb-6",children:n.title}),y.jsx("ul",{className:"space-y-4",children:n.links.map((i,a)=>y.jsx("li",{children:y.jsx("button",{onClick:()=>t(i.href),className:`text-gray-400 hover:text-white transition-colors duration-300 ${e.pathname===i.href.split("#")[0]?"text-white":""}`,children:i.label})},a))})]},s))})}const qc=[{icon:kc,href:"https://www.facebook.com/people/Esports-League-Nepal/61568314285888/",label:"Facebook"},{icon:Rc,href:"https://www.instagram.com/esln.2024/?utm_source=ig_web_button_share_sheet",label:"Instagram"},{icon:Nc,href:"https://www.youtube.com/channel/UC7C1uYr_yinSR6IgxVKeYxw",label:"YouTube"}];function Wc(){const r=xt();return y.jsxs("div",{className:"lg:col-span-1",children:[y.jsx("button",{onClick:()=>r("/"),className:"flex items-center gap-1 mb-4 opacity-100 hover:opacity-90 transition-opacity",children:y.jsx("img",{src:ai,alt:"Your Logo",className:"w-16 h-16"})}),y.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Building the future of esports in Nepal, one tournament at a time."}),y.jsx("div",{className:"flex gap-2",children:qc.map((e,t)=>{const n=e.icon;return y.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.label,className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors duration-300",children:y.jsx(n,{className:"w-4 h-4 text-white/80"})},t)})})]})}function Jc(){return y.jsxs("div",{className:"pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4 text-gray-400",children:[y.jsxs("p",{children:[" ",new Date().getFullYear()," ESLN. All rights reserved."]}),y.jsxs("div",{className:"flex gap-6",children:[y.jsx(vr,{to:"/privacy-policy",className:"hover:text-white transition-colors","aria-label":"Privacy Policy",children:"Privacy Policy"}),y.jsx(vr,{to:"/terms-of-service",className:"hover:text-white transition-colors","aria-label":"Terms of Service",children:"Terms of Service"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[y.jsx("span",{children:"Made with  by"}),y.jsx("a",{href:"https://www.sandeshshrestha.xyz",className:"hover:text-white transition-colors",target:"_blank",rel:"noopener noreferrer","aria-label":"Sandesh's website",children:"Sandesh"})]})]})}function Gc(){return y.jsx("footer",{className:"bg-gradient-to-b from-gray-900 to-black border-t border-white/10",children:y.jsxs(si,{children:[y.jsx(Bc,{}),y.jsxs("div",{className:"py-12",children:[y.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12",children:[y.jsx(Wc,{}),y.jsx(Vc,{})]}),y.jsx(Jc,{})]})]})})}function Kc(){const[r,e]=p.useState(0);return p.useEffect(()=>{const t=()=>{const n=document.documentElement.scrollHeight-window.innerHeight,s=window.scrollY/n*100;e(s)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),r}function Yc(){const r=Kc();return y.jsx("div",{className:"fixed top-0 left-0 w-full h-1 z-50",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500",style:{width:`${r}%`}})})}function Xc(){const[r,e]=p.useState(!1);p.useEffect(()=>{const n=()=>{e(window.pageYOffset>300)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return y.jsx("button",{onClick:t,className:`fixed bottom-8 right-8 p-3 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 
        hover:bg-white/20 transition-all duration-300 z-50 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"}`,"aria-label":"Back to top",children:y.jsx(wc,{className:"w-5 h-5 text-white"})})}function Qc(){const{pathname:r}=ye();p.useEffect(()=>{window.scrollTo(0,0)},[r])}function Zc(){return Qc(),y.jsxs("div",{className:"min-h-screen bg-black text-white",children:[y.jsx(Yc,{}),y.jsx(Xc,{}),y.jsx(zc,{}),y.jsx(Zo,{}),y.jsx(Gc,{})]})}const eu=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>he(async()=>{const{default:n}=await Promise.resolve().then(()=>Et);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class bn extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class tu extends bn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ru extends bn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nu extends bn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qr;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Qr||(Qr={}));var su=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class iu{constructor(e,{headers:t={},customFetch:n,region:s=Qr.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=eu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return su(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(k=>{throw new tu(k)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new ru(u);if(!u.ok)throw new nu(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield u.json():f==="application/octet-stream"?m=yield u.blob():f==="text/event-stream"?m=u:f==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var de={},wn={},Er={},Jt={},Sr={},Rr={},au=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_t=au();const ou=_t.fetch,oi=_t.fetch.bind(_t),li=_t.Headers,lu=_t.Request,cu=_t.Response,Et=Object.freeze(Object.defineProperty({__proto__:null,Headers:li,Request:lu,Response:cu,default:oi,fetch:ou},Symbol.toStringTag,{value:"Module"})),uu=Ki(Et);var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});let du=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Cr.default=du;var ci=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});const hu=ci(uu),fu=ci(Cr);let pu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,u=null,d=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,m="OK")}catch{i.status===404&&x===""?(f=204,m="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new fu.default(c)}return{error:c,data:u,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}};Rr.default=pu;var mu=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sr,"__esModule",{value:!0});const gu=mu(Rr);let vu=class extends gu.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sr.default=vu;var yu=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const bu=yu(Sr);let wu=class extends bu.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Jt.default=wu;var _u=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Er,"__esModule",{value:!0});const Dt=_u(Jt);let xu=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Dt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Dt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Dt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Dt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Er.default=xu;var Tr={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.version=void 0;Pr.version="0.0.0-automated";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.DEFAULT_HEADERS=void 0;const ku=Pr;Tr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ku.version}`};var ui=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wn,"__esModule",{value:!0});const Eu=ui(Er),Su=ui(Jt),Ru=Tr;let Cu=class di{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ru.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Eu.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new di(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Su.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wn.default=Cu;var St=ve&&ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(de,"__esModule",{value:!0});de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;const hi=St(wn);de.PostgrestClient=hi.default;const fi=St(Er);de.PostgrestQueryBuilder=fi.default;const pi=St(Jt);de.PostgrestFilterBuilder=pi.default;const mi=St(Sr);de.PostgrestTransformBuilder=mi.default;const gi=St(Rr);de.PostgrestBuilder=gi.default;const vi=St(Cr);de.PostgrestError=vi.default;var Tu=de.default={PostgrestClient:hi.default,PostgrestQueryBuilder:fi.default,PostgrestFilterBuilder:pi.default,PostgrestTransformBuilder:mi.default,PostgrestBuilder:gi.default,PostgrestError:vi.default};const{PostgrestClient:Pu,PostgrestQueryBuilder:Ah,PostgrestFilterBuilder:Lh,PostgrestTransformBuilder:Dh,PostgrestBuilder:Ih,PostgrestError:Mh}=Tu,ju="2.11.2",$u={"X-Client-Info":`realtime-js/${ju}`},Ou="1.0.0",yi=1e4,Au=1e3;var wt;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(wt||(wt={}));var fe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(fe||(fe={}));var we;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(we||(we={}));var Zr;(function(r){r.websocket="websocket"})(Zr||(Zr={}));var it;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(it||(it={}));class Lu{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class bi{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(W||(W={}));const cs=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Du(a,r,e,s),i),{})},Du=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?wi(i,a):en(a)},wi=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Uu(e,t)}switch(r){case W.bool:return Iu(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Mu(e);case W.json:case W.jsonb:return Nu(e);case W.timestamp:return Fu(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return en(e);default:return en(e)}},en=r=>r,Iu=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Mu=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Nu=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Uu=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>wi(e,o))}return r},Fu=r=>typeof r=="string"?r.replace(" ","T"):r,_i=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Br{constructor(e,t,n={},s=yi){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var us;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(us||(us={}));class Ut{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ut.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Ut.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ut.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const f=u.map(w=>w.presence_ref),m=d.map(w=>w.presence_ref),k=u.filter(w=>m.indexOf(w.presence_ref)<0),x=d.filter(w=>f.indexOf(w.presence_ref)<0);k.length>0&&(o[c]=k),x.length>0&&(l[c]=x)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(m=>m.presence_ref),f=u.filter(m=>d.indexOf(m.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ds;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ds||(ds={}));var hs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(hs||(hs={}));var Ie;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ie||(Ie={}));class _n{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Br(this,we.join,this.params,this.timeout),this.rejoinTimer=new bi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(we.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ut(this),this.broadcastEndpointURL=_i(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Ie.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ie.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Ie.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,k=[];for(let x=0;x<m;x++){const w=f[x],{filter:{event:_,schema:R,table:S,filter:$}}=w,v=u&&u[x];if(v&&v.event===_&&v.schema===R&&v.table===S&&v.filter===$)k.push(Object.assign(Object.assign({},w),{id:v.id}));else{this.unsubscribe(),e==null||e(Ie.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Ie.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ie.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ie.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(we.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Br(this,we.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Br(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=we;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var k,x,w;return((k=m.filter)===null||k===void 0?void 0:k.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var k,x,w,_,R,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const $=m.id,v=(k=m.filter)===null||k===void 0?void 0:k.event;return $&&((x=t.ids)===null||x===void 0?void 0:x.includes($))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const $=(R=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return $==="*"||$===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const k=f.data,{schema:x,table:w,commit_timestamp:_,type:R,errors:S}=k;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:_,eventType:R,new:{},old:{},errors:S}),this._getPayloadRecords(k))}m.callback(f,n)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_n.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(we.close,{},e)}_onError(e){this._on(we.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=cs(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=cs(e.columns,e.old_record)),t}}const zu=()=>{},Bu=typeof WebSocket<"u",Hu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vu{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$u,this.params={},this.timeout=yi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zu,this.conn=null,this.sendBuffer=[],this.serializer=new Lu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>he(async()=>{const{default:l}=await Promise.resolve().then(()=>Et);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Zr.websocket}`,this.httpEndpoint=_i(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bi(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),he(async()=>{const{default:e}=await import("./browser-DyszVBJf.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ou}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wt.connecting:return it.Connecting;case wt.open:return it.Open;case wt.closing:return it.Closing;default:return it.Closed}}isConnected(){return this.connectionState()===it.Open}channel(e,t={config:{}}){const n=new _n(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(we.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Au,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(we.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Hu],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class qu{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class xn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Wu extends xn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class tn extends xn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ju=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const xi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>he(async()=>{const{default:n}=await Promise.resolve().then(()=>Et);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Gu=()=>Ju(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield he(()=>Promise.resolve().then(()=>Et),void 0)).Response:Response}),rn=r=>{if(Array.isArray(r))return r.map(t=>rn(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=rn(n)}),e};var ct=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Hr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ku=(r,e,t)=>ct(void 0,void 0,void 0,function*(){const n=yield Gu();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new Wu(Hr(s),r.status||500))}).catch(s=>{e(new tn(Hr(s),s))}):e(new tn(Hr(r),r))}),Yu=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function Gt(r,e,t,n,s,i){return ct(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,Yu(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Ku(l,o,n))})})}function yr(r,e,t,n){return ct(this,void 0,void 0,function*(){return Gt(r,"GET",e,t,n)})}function We(r,e,t,n,s){return ct(this,void 0,void 0,function*(){return Gt(r,"POST",e,n,s,t)})}function Xu(r,e,t,n,s){return ct(this,void 0,void 0,function*(){return Gt(r,"PUT",e,n,s,t)})}function Qu(r,e,t,n){return ct(this,void 0,void 0,function*(){return Gt(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function ki(r,e,t,n,s){return ct(this,void 0,void 0,function*(){return Gt(r,"DELETE",e,n,s,t)})}var ue=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const Zu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ed{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=xi(s)}uploadOrUpdate(e,t,n,s){return ue(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},fs),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,t,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:fs.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield We(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new xn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}update(e,t,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ue(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(e,t,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield We(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return ue(this,void 0,void 0,function*(){try{const s=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(e,t){return ue(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield yr(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}})}info(e){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield yr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:rn(n),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}exists(e){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Qu(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(re(n)&&n instanceof tn){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}list(e,t,n){return ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Zu),t),{prefix:e||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const td="2.7.1",rd={"X-Client-Info":`storage-js/${td}`};var mt=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class nd{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},rd),t),this.fetch=xi(n)}listBuckets(){return mt(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return mt(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return mt(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}deleteBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}}class sd extends nd{constructor(e,t={},n){super(e,t,n)}from(e){return new ed(this.url,this.headers,e,this.fetch)}}const id="2.47.10";let Nt="";typeof Deno<"u"?Nt="deno":typeof document<"u"?Nt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nt="react-native":Nt="node";const ad={"X-Client-Info":`supabase-js-${Nt}/${id}`},od={headers:ad},ld={schema:"public"},cd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ud={};var dd=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const hd=r=>{let e;return r?e=r:typeof fetch>"u"?e=oi:e=fetch,(...t)=>e(...t)},fd=()=>typeof Headers>"u"?li:Headers,pd=(r,e,t)=>{const n=hd(t),s=fd();return(i,a)=>dd(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var md=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function gd(r){return r.replace(/\/$/,"")}function vd(r,e){const{db:t,auth:n,realtime:s,global:i}=r,{db:a,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>md(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const Ei="2.67.3",yd="http://localhost:9999",bd="supabase.auth.token",wd={"X-Client-Info":`gotrue-js/${Ei}`},ps=10,nn="X-Supabase-Api-Version",Si={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function _d(r){return Math.round(Date.now()/1e3)+r}function xd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Se=()=>typeof window<"u"&&typeof document<"u",rt={tested:!1,writable:!1},Ft=()=>{if(!Se())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rt.tested)return rt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),rt.tested=!0,rt.writable=!0}catch{rt.tested=!0,rt.writable=!1}return rt.writable};function kd(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ri=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>he(async()=>{const{default:n}=await Promise.resolve().then(()=>Et);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Ed=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ci=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ar=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},or=async(r,e)=>{await r.removeItem(e)};function Sd(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,s,i,a,o,l,c,u=0;for(r=r.replace("-","+").replace("_","/");u<r.length;)a=e.indexOf(r.charAt(u++)),o=e.indexOf(r.charAt(u++)),l=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),n=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|c,t=t+String.fromCharCode(n),l!=64&&s!=0&&(t=t+String.fromCharCode(s)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class jr{constructor(){this.promise=new jr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}jr.promiseConstructor=Promise;function ms(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(Sd(n))}async function Rd(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Cd(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function Td(r){return("0"+r.toString(16)).substr(-2)}function Pd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Td).join("")}async function jd(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function $d(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Od(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await jd(r);return $d(t)}async function gt(r,e,t=!1){const n=Pd();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Ci(r,`${e}-code-verifier`,s);const i=await Od(n);return[i,n===i?"plain":"s256"]}const Ad=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ld(r){const e=r.headers.get(nn);if(!e||!e.match(Ad))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class kn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function N(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Dd extends kn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Id(r){return N(r)&&r.name==="AuthApiError"}class Ti extends kn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ut extends kn{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Ve extends ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Md(r){return N(r)&&r.name==="AuthSessionMissingError"}class Vr extends ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cr extends ut{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nd(r){return N(r)&&r.name==="AuthImplicitGrantRedirectError"}class gs extends ut{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sn extends ut{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function qr(r){return N(r)&&r.name==="AuthRetryableFetchError"}class vs extends ut{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var Ud=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const nt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Fd=[502,503,504];async function ys(r){var e;if(!Ed(r))throw new sn(nt(r),0);if(Fd.includes(r.status))throw new sn(nt(r),r.status);let t;try{t=await r.json()}catch(i){throw new Ti(nt(i),i)}let n;const s=Ld(r);if(s&&s.getTime()>=Si["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new vs(nt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ve}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new vs(nt(t),r.status,t.weak_password.reasons);throw new Dd(nt(t),r.status||500,n)}const zd=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function F(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[nn]||(i[nn]=Si["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Bd(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Bd(r,e,t,n,s,i){const a=zd(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new sn(nt(l),0)}if(o.ok||await ys(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ys(l)}}function qe(r){var e;let t=null;Wd(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=_d(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function bs(r){const e=qe(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ge(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Hd(r){return{data:r,error:null}}function Vd(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=Ud(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function qd(r){return r}function Wd(r){return r.access_token&&r.refresh_token&&r.expires_in}var Jd=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class Gd{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Ri(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ge})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Jd(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vd,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(N(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ge})}catch(t){if(N(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qd});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(k.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(N(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ge})}catch(t){if(N(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ge})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ge})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(N(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(N(t))return{data:null,error:t};throw t}}}const Kd={getItem:r=>Ft()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Ft()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Ft()&&globalThis.localStorage.removeItem(r)}};function ws(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Yd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vt={debug:!!(globalThis&&Ft()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Xd extends Pi{}async function Qd(r,e,t){vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Xd(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Yd();const Zd={url:yd,storageKey:bd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},It=30*1e3,_s=3;async function xs(r,e,t){return await t()}class Ht{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ht.nextInstanceID,Ht.nextInstanceID+=1,this.instanceID>0&&Se()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Zd),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Gd({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ri(s.fetch),this.lock=s.lock||xs,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Se()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Qd:this.lock=xs,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ft()?this.storage=Kd:(this.memoryStorage={},this.storage=ws(this.memoryStorage)):(this.memoryStorage={},this.storage=ws(this.memoryStorage)),Se()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ei}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=kd(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Se()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Nd(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return N(t)?{error:t}:{error:new Ti("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qe}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let m=null,k=null;this.flowType==="pkce"&&([m,k]=await gt(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:k},xform:qe})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qe})}else throw new lr("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(N(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bs})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bs})}else throw new lr("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await ar(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qe});if(await or(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(N(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:qe}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Vr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await gt(this.storage,this.storageKey));const{error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new lr("You must provide either an email or phone number.")}catch(o){if(N(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qe});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await gt(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Hd})}catch(i){if(N(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ve;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(N(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await F(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await F(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new lr("You must provide either an email or phone number and a type")}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ge}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ve}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ge})})}catch(t){if(N(t))return Md(t)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ve;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await gt(this.storage,this.storageKey));const{data:c,error:u}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ge});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return ms(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ve;const t=Date.now()/1e3;let n=t,s=!0,i=null;const a=ms(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(N(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ve;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Se())throw new cr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new gs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gs("No code detected.");const{data:R,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new cr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const m=f-u;m*1e3<=It&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const k=f-d;u-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,f,u):u-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,f,u);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(N(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Id(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=xd(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await gt(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(N(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(N(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,u;const{data:d,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Se()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(N(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(N(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Cd(async s=>(s>0&&await Rd(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&qr(i)&&Date.now()+a-n<It})}catch(n){if(this._debug(t,"error",n),N(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Se()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await ar(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+ps;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${ps}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),qr(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ve;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jr;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ve;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),N(i)){const a={session:null,error:i};return qr(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ci(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Se()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),It);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/It);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${It}ms, refresh threshold is ${_s} ticks`),s<=_s&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Se()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await gt(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(N(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(N(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(N(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(N(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ht.nextInstanceID=0;const eh=Ht;class th extends eh{constructor(e){super(e)}}var rh=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class nh{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=gd(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ld,realtime:ud,auth:Object.assign(Object.assign({},cd),{storageKey:l}),global:od},u=vd(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=pd(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Pu(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new iu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sd(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return rh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new th({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Vu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sh=(r,e,t)=>new nh(r,e,t),ih="https://hgaumdkpmbsdaxqzfsef.supabase.co",ah="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnYXVtZGtwbWJzZGF4cXpmc2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU5MTY4ODAsImV4cCI6MjA1MTQ5Mjg4MH0.K3abXDSasZG9tc71xNZiZ_tiPSdZu__FU0Ww8lfnd8Y",Wr=sh(ih,ah);function oh(){const[r,e]=p.useState(null),[t,n]=p.useState(!0);return p.useEffect(()=>{Wr.auth.getSession().then(({data:{session:a}})=>{e((a==null?void 0:a.user)??null),n(!1)});const{data:{subscription:i}}=Wr.auth.onAuthStateChange((a,o)=>{e((o==null?void 0:o.user)??null),n(!1)});return()=>i.unsubscribe()},[]),{user:r,loading:t,signOut:async()=>{await Wr.auth.signOut()}}}function lh(){const{user:r}=oh();return y.jsx("header",{className:"h-16 bg-gray-900 border-b border-white/10",children:y.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[y.jsx("div",{className:"flex-1 max-w-xl",children:y.jsxs("div",{className:"relative",children:[y.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-white/20"})]})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-white transition-colors",children:[y.jsx(_c,{className:"w-6 h-6"}),y.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),y.jsxs("div",{className:"flex items-center gap-3 text-white",children:[y.jsx("span",{className:"text-sm",children:r==null?void 0:r.email}),y.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:y.jsx(Dc,{className:"w-5 h-5"})})]})]})]})})}const ch=[{title:"Dashboard",icon:Cc,path:"/admin/dashboard"},{title:"Tournaments",icon:Lc,path:"/admin/tournaments",submenu:[{title:"All Tournaments",path:"/admin/tournaments"},{title:"Create New",path:"/admin/tournaments/new"},{title:"Participants",path:"/admin/tournaments/participants"}]},{title:"Teams",icon:Ic,path:"/admin/teams"},{title:"Blog Posts",icon:Ec,path:"/admin/blog"},{title:"Media Library",icon:Sc,path:"/admin/media"},{title:"Settings",icon:Ac,path:"/admin/settings"}];function uh(){const r=xt(),e=ye(),[t,n]=p.useState(null),s=a=>e.pathname===a,i=a=>t===a;return y.jsxs("div",{className:"w-64 bg-gray-900 min-h-screen p-4",children:[y.jsx("div",{className:"mb-8",children:y.jsx("h2",{className:"text-xl font-bold text-white",children:"ESLN Admin"})}),y.jsx("nav",{className:"space-y-2",children:ch.map(a=>y.jsxs("div",{children:[y.jsxs("button",{onClick:()=>{a.submenu?n(i(a.title)?null:a.title):r(a.path)},className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${s(a.path)?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(a.icon,{className:"w-5 h-5"}),y.jsx("span",{children:a.title})]}),a.submenu&&y.jsx(xc,{className:`w-4 h-4 transition-transform ${i(a.title)?"rotate-180":""}`})]}),a.submenu&&i(a.title)&&y.jsx("div",{className:"ml-4 mt-2 space-y-1",children:a.submenu.map(o=>y.jsx("button",{onClick:()=>r(o.path),className:`w-full p-2 rounded-lg text-left pl-8 transition-colors ${s(o.path)?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,children:o.title},o.path))})]},a.title))})]})}function dh({children:r}){return y.jsxs("div",{className:"flex min-h-screen bg-black",children:[y.jsx(uh,{}),y.jsxs("div",{className:"flex-1",children:[y.jsx(lh,{}),y.jsx("main",{className:"p-6",children:r})]})]})}const hh=p.lazy(()=>he(()=>import("./BlogList-CZPdiFy_.js"),__vite__mapDeps([2,1,3,4]))),fh=p.lazy(()=>he(()=>import("./MediaLibrary-DwTetQ-S.js"),__vite__mapDeps([5,1,3,4]))),ph={path:"/admin",element:y.jsx(dh,{}),children:[{path:"blog",element:y.jsx(hh,{})},{path:"media",element:y.jsx(fh,{})}]},mh=p.lazy(()=>he(()=>import("./Home-D0AyKQzm.js"),__vite__mapDeps([6,1,7,3,8]))),gh=p.lazy(()=>he(()=>import("./About-DNNoYUhw.js"),__vite__mapDeps([9,10,7,1,3]))),vh=p.lazy(()=>he(()=>import("./Tournaments-BMLy1II-.js"),__vite__mapDeps([11,10,7,1,12,8,3]))),yh=p.lazy(()=>he(()=>import("./PastEvents-Dsf9jj2N.js"),__vite__mapDeps([13,10,7,1,12,8,3]))),bh=p.lazy(()=>he(()=>import("./Blog-BYF5PEQC.js"),__vite__mapDeps([14,10,7,1,3]))),wh=p.lazy(()=>he(()=>import("./NotFound-8R9v1cji.js"),__vite__mapDeps([15,1]))),yt=({children:r})=>y.jsx(p.Suspense,{fallback:y.jsx("div",{children:"Loading..."}),children:r}),_h=[{path:"/",element:y.jsx(Zc,{}),children:[{index:!0,element:y.jsx(yt,{children:y.jsx(mh,{})})},{path:"about",element:y.jsx(yt,{children:y.jsx(gh,{})})},{path:"tournaments",element:y.jsx(yt,{children:y.jsx(vh,{})})},{path:"past-events",element:y.jsx(yt,{children:y.jsx(yh,{})})},{path:"blog",element:y.jsx(yt,{children:y.jsx(bh,{})})}]},ph,{path:"*",element:y.jsx(yt,{children:y.jsx(wh,{})})}],xh=El(_h);function kh(){return y.jsx(Il,{router:xh})}function Eh(){return y.jsx(Os,{children:y.jsx(kh,{})})}const ks=document.getElementById("root");ks?Cs(ks).render(y.jsx(p.StrictMode,{children:y.jsx(Ea,{children:y.jsx(Os,{children:y.jsx(ka,{mode:"wait",children:y.jsx(Eh,{})})})})})):console.error("Failed to find the root element");export{ii as B,si as C,ma as L,Pc as M,pa as P,Lc as T,Ic as U,ni as a,xc as b,te as c,Dc as d,ga as e,ya as f,As as g,va as i,y as j,xt as u};
//# sourceMappingURL=index-C3lVqZXi.js.map
